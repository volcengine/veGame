!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).veGamePadSDK=t()}(this,(function(){"use strict";var e=document.createElement("style");function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(i,r)}function i(e,t,n){return t=l(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,c()?Reflect.construct(t,n||[],l(e).constructor):t.apply(e,n))}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,f(i.key),i)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(c=function(){return!!e})()}function d(){d=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(G){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new R(i||[]);return r(a,"_invoke",{value:L(e,n,s)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(i){return{type:"throw",arg:i}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",y="executing",v="completed",g={};function m(){}function b(){}function _(){}var x={};c(x,a,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(B([])));k&&k!==n&&i.call(k,a)&&(x=k);var C=_.prototype=m.prototype=Object.create(x);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(r,o,a,s){var l=h(e[r],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return o=o?o.then(r,r):r()}})}function L(t,n,i){var r=p;return function(o,a){if(r===y)throw Error("Generator is already running");if(r===v){if("throw"===o)throw a;return{value:e,done:!0}}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var l=A(s,i);if(l){if(l===g)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===p)throw r=v,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=y;var c=h(t,n,i);if("normal"===c.type){if(r=i.done?v:f,c.arg===g)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=v,i.method="throw",i.arg=c.arg)}}}function A(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var o=h(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function B(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return b.prototype=_,r(C,"constructor",{value:_,configurable:!0}),r(_,"constructor",{value:b,configurable:!0}),b.displayName=c(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},S(T.prototype),c(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new T(u(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(C),c(C,l,"Generator"),c(C,a,(function(){return this})),c(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=B,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;O(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:B(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(d){c=!0,r=d}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,n){if(e){if("string"==typeof e)return t(e,n);var i={}.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,n):void 0}}e.textContent=".vg-pad-e-bar{display:flex;align-items:center;box-sizing:border-box;height:44px;position:relative;border-radius:0 0 8px 8px;background-color:#080f21a6;box-shadow:0 4px 20px #00000040;z-index:1}.vg-pad-center{display:flex;justify-content:center;align-items:center}.vg-pad-key-js{background:rgba(0,0,0,.2)}.vg-pad-key-rocker{overflow:hidden;background:rgba(0,0,0,.5);border-radius:999px;border:1px solid rgba(0,0,0,.5);width:41%;height:41%}.vg-pad-key-rocker-bg{width:100%;height:100%;background-color:#0003;border-radius:999px}.vg-pad-key{position:absolute;box-sizing:border-box;display:flex;justify-content:center;align-items:center;pointer-events:auto}.vg-pad-key-sw{position:absolute}.vg-pad-key-desc{font-size:14px;font-weight:800;letter-spacing:.003em;z-index:1;pointer-events:none;white-space:pre-line;width:80%;text-align:center}.vg-pad-key-tips{position:absolute;font-size:8px;font-weight:500;line-height:8px;border-radius:24px;background:rgba(0,0,0,.6);top:-6px;right:0;padding:2px 3px}.vg-pad-noevts{pointer-events:none}.vg-pad-evts{pointer-events:auto}.vg-pad-ab{position:absolute}.vg-pad-svg{width:100%;height:100%;pointer-events:none}.vg-pad-cc{display:flex;justify-content:center;align-items:center}.vg-pad-hidden{display:none}.ve-gamepad-key-compose{font-family:Inter;font-size:14px;font-weight:800;line-height:16px;font-style:italic}.vg-pad-key-arrow-up{position:absolute;top:0;left:50%;transform:translate(-50%);width:32.2%;height:46.7%}.vg-pad-key-arrow-down{position:absolute;bottom:0;left:50%;transform:translate(-50%);width:32.2%;height:46.7%}.vg-pad-key-arrow-right{position:absolute;top:50%;right:0;transform:translateY(-50%);width:46.7%;height:32.2%}.vg-pad-key-arrow-left{position:absolute;top:50%;left:0;transform:translateY(-50%);width:46.7%;height:32.2%}.ve-gamepad{box-sizing:border-box;position:absolute;z-index:2;overflow:hidden;top:0;left:0;font-family:PingFang SC;font-size:12px;font-weight:400;line-height:20px;letter-spacing:.003em;color:#fff}.ve-gamepad-evts{pointer-events:auto}.ve-gamepad-noevts{pointer-events:none}.vg-pad-p,.vg-pad-e{width:100%;height:100%;position:relative;overflow:hidden}.ve-gamepad-editborder{border:1.5px dashed #ffffff;padding:3px;position:absolute;box-sizing:border-box;pointer-events:none}.vg-pad-e-button{border-radius:4px;border:1px solid #FFFFFF12;background:#FFFFFF0D;box-shadow:0 2px 4px #00000040;padding:3px 14px;display:flex;justify-content:center;align-items:center;pointer-events:auto}.vg-pad-e-tool{position:absolute;width:100%;height:100%;z-index:1;pointer-events:none;background:transparent}.vg-pad-e-tool-menu{pointer-events:auto;max-width:470px;margin:0 auto;display:flex;justify-content:space-between}.vg-pad-e-tool-menu>div{display:flex;justify-content:center;align-items:center}.vg-pad-e-tool-menu-button{height:28px;padding:0 8px;margin-left:8px;border-radius:4px;box-sizing:border-box;border:1px solid #FFFFFF12;background:#FFFFFF0D;box-shadow:0 2px 4px #00000040;display:flex;justify-content:center;align-items:center;pointer-events:auto}.vg-pad-e-tool-menu-button>span{margin-left:4px;pointer-events:none}.vg-pad-e-tool-menu-cancel{width:40px;height:28px;display:flex;justify-content:center;align-items:center;pointer-events:auto}.vg-pad-e-tool-menu-save{display:flex;justify-content:center;align-items:center;background-color:#00c8d2bf;border-radius:4px;font-weight:500;height:28px;width:56px;margin-left:10px;margin-right:8px;pointer-events:auto}.vg-pad-e-tool-menu-save>span{margin-left:4px;pointer-events:none}.vg-pad-e-tool-alpha{position:relative;margin:2px auto 0;width:292px;height:48px;border-radius:8px;background:rgba(8,15,33,.65);border:1px solid #080F211A;background:#080F21A6;box-shadow:0 4px 20px #00000040;display:flex;flex-direction:column;justify-content:center;align-items:center}.vg-pad-e-tool-alpha-slider{position:relative;height:18px;display:flex;align-items:center;margin-top:6px}.vg-pad-e-tool-alpha-slider-track{width:100%;position:absolute;height:4px;background-color:#eaedf1}.vg-pad-e-tool-alpha-slider-value{position:absolute;height:4px;background-color:#4281ff}.vg-pad-e-tool-alpha-slider-mark{width:100%;display:flex;justify-content:space-between;pointer-events:none;position:absolute}.vg-pad-e-tool-alpha-slider-mark>div{width:2px;height:8px;border-radius:4px;background-color:#ccced1}.vg-pad-e-tool-alpha-slider-float{position:absolute;width:10px;height:18px;border-radius:4px;border:1px solid #4281FF;background-color:#fff;pointer-events:auto}.vg-pad-e-tool-alpha-number{width:256px;display:flex;justify-content:space-between}.vg-pad-e-tool-bubble{position:absolute;padding:8px 16px;border-radius:4px;background:#080F21A6;border:1px solid #080F211A;border-left:none;box-shadow:0 4px 20px #00000040;z-index:1;left:10px}.vg-pad-e-tool-bubble-triangle{position:absolute;top:calc(50% - 8px);left:-8px;width:0;height:0;border-right:8px solid #080F21A6;border-top:8px solid transparent;border-bottom:8px solid transparent}.vg-pad-e-size{position:absolute;width:100%;height:100%;z-index:1;pointer-events:none;background-color:transparent;display:flex;justify-content:center}.vg-pad-e-size-bar{max-width:552px;margin:0 auto;display:flex;padding:0 10px;pointer-events:auto;justify-content:space-between}.vg-pad-e-size-bar>div{display:flex;justify-content:center;align-items:center}.vg-pad-e-size-bar-name{margin-left:8px;height:28px;padding-left:12px;border-radius:14px;background-color:#0c0d0e33;border:1px solid #00000033;width:92px;overflow:hidden;box-sizing:border-box;display:flex;align-items:center;white-space:nowrap}.vg-pad-e-size-bar-slider{position:relative;height:18px;display:flex;align-items:center;margin-left:8px}.vg-pad-e-size-bar-slider-track{position:absolute;width:100%;height:4px;background-color:#eaedf1}.vg-pad-e-size-bar-slider-value{position:absolute;height:4px;background-color:#4281ff}.vg-pad-e-size-bar-slider-mark{width:120px;display:flex;justify-content:space-between;pointer-events:none;position:absolute}.vg-pad-e-size-bar-slider-mark>div{width:2px;height:8px;border-radius:4px;background-color:#ccced1}.vg-pad-e-size-bar-slider-float{position:absolute;width:10px;height:18px;border-radius:4px;border:1px solid #4281FF;background-color:#fff;box-sizing:border-box}.vg-pad-e-size-bar-del{color:#ff706d;background:#EE3F3833;border:1px solid #FFA3A080;margin-right:8px}.vg-pad-e-size-input{width:100%;height:100%;position:absolute;z-index:1;top:0;left:0;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);pointer-events:auto}.vg-pad-e-size-input-wrapper{max-width:230px;border:1px solid #00C8D299;display:flex;align-items:center;justify-content:space-between;transform-origin:center;padding:0 8px}.vg-pad-e-size-input-text{background-color:transparent;height:36px;border:none;outline:none;margin:0 6px;color:#fff;caret-color:#00c8d2}.vg-pad-e-size-input-rotate{transform:rotate(-90deg);transform-origin:center}.vg-pad-e-add{position:relative;z-index:1;width:100%;height:100%;background:rgba(12,13,14,.5);display:flex;justify-content:center;align-items:center}.vg-pad-e-add-modal{width:400px;padding:8px 16px 12px;border-radius:8px;background:rgba(8,15,33,.65);box-sizing:border-box;box-shadow:0 4px 20px #00000040}.vg-pad-e-add-modal-header{height:28px;display:flex;align-items:center;justify-content:space-between}.vg-pad-e-add-modal-header>div{display:flex}.vg-pad-e-add-modal-header-button{padding:4px 8px}.vg-pad-e-add-modal-header-checked{color:#00c8d2;border-radius:4px;border:1px solid rgba(0,200,210,.6);background-color:#00c8d233}.vg-pad-e-add-modal-content{min-height:100px;margin:8px 0;display:flex;gap:16px;flex-wrap:wrap}.vg-pad-e-add-modal-content-item{width:48px;height:48px;border-radius:8px;border:.5px solid #FFFFFF26;box-sizing:border-box;display:flex;justify-content:center;align-items:center;pointer-events:auto;overflow:hidden}.vg-pad-e-add-modal-content-checked{background:rgba(0,200,210,.2);border:.5px solid #00C8D2}.vg-pad-e-add-modal-content-allused{display:flex;flex-direction:column;justify-content:center;align-items:center;color:#c7ccd6;text-align:center;width:100%}.vg-pad-e-add-modal-footer{height:28px;display:flex;align-items:center;justify-content:space-between}.vg-pad-e-add-modal-footer>span{color:#c7ccd6}.vg-pad-e-add-modal-footer>div{display:flex}.vg-pad-e-add-modal-footer-cancel{padding:3px 16px;border-radius:4px;background:#FFFFFF0D;border:1px solid #FFFFFF12;box-shadow:0 2px 4px #00000040}.vg-pad-e-add-modal-footer-confirm{margin-left:8px;padding:3px 16px;border-radius:4px;background:rgba(0,200,210,.75)}.vg-pad-e-add-modal-footer-disable{opacity:.3}\n",document.head.appendChild(e);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function g(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var m,b,_={exports:{}},x={exports:{}},w=function(e){return null!=e},k=w,C={object:!0,function:!0,undefined:!0},S=function(e){return!!k(e)&&hasOwnProperty.call(C,y(e))},T=function(e){if(!S(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch(t){return!1}},L=function(e){if("function"!=typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length)return!1;if("function"!=typeof e.call)return!1;if("function"!=typeof e.apply)return!1}catch(t){return!1}return!T(e)},A=/^\s*class[\s{/}]/,E=Function.prototype.toString;var O,R,B,G,P,j,$,M,F=function(e){return null!=e};function H(){return G?B:(G=1,B=(b?m:(b=1,m=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}))()?Object.keys:function(){if(R)return O;R=1;var e=F,t=Object.keys;return O=function(n){return t(e(n)?Object(n):n)}}())}var z,K,D,I,U="function"==typeof(K=Object.assign)&&(K(z={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),z.foo+z.bar+z.trzy==="razdwatrzy")?Object.assign:function(){if(M)return $;M=1;var e=H(),t=function(){if(j)return P;j=1;var e=F;return P=function(t){if(!e(t))throw new TypeError("Cannot use null or undefined");return t}}(),n=Math.max;return $=function(i,r){var o,a,s,l=n(arguments.length,2);for(i=Object(t(i)),s=function(e){try{i[e]=r[e]}catch(t){o||(o=t)}},a=1;a<l;++a)e(r=arguments[a]).forEach(s);if(void 0!==o)throw o;return i},$}(),N=F,q=Array.prototype.forEach,V=Object.create,X="razdwatrzy";var Y="function"==typeof X.contains&&!0===X.contains("dwa")&&!1===X.contains("foo")?String.prototype.contains:function(){if(I)return D;I=1;var e=String.prototype.indexOf;return D=function(t){return e.call(this,t,arguments[1])>-1},D}(),W=w,Z=function(e){return!!L(e)&&!A.test(E.call(e))},J=U,Q=function(e){var t=V(null);return q.call(arguments,(function(e){N(e)&&function(e,t){var n;for(n in e)t[n]=e[n]}(Object(e),t)})),t},ee=Y,te=x.exports=function(e,t){var n,i,r,o,a;return arguments.length<2||"string"!=typeof e?(o=t,t=e,e=null):o=arguments[2],W(e)?(n=ee.call(e,"c"),i=ee.call(e,"e"),r=ee.call(e,"w")):(n=r=!0,i=!1),a={value:t,configurable:n,enumerable:i,writable:r},o?J(Q(o),a):a};te.gs=function(e,t,n){var i,r,o,a;return"string"!=typeof e?(o=n,n=t,t=e,e=null):o=arguments[3],W(t)?Z(t)?W(n)?Z(n)||(o=n,n=void 0):n=void 0:(o=t,t=n=void 0):t=void 0,W(e)?(i=ee.call(e,"c"),r=ee.call(e,"e")):(i=!0,r=!1),a={get:t,set:n,configurable:i,enumerable:r},o?J(Q(o),a):a};var ne,ie,re,oe,ae,se,le,ce,de,ue,he,pe,fe,ye,ve,ge,me,be,_e=x.exports;ne=_,ie=_.exports,ue=_e,he=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e},pe=Function.prototype.apply,fe=Function.prototype.call,ye=Object.create,ve=Object.defineProperty,ge=Object.defineProperties,me=Object.prototype.hasOwnProperty,be={configurable:!0,enumerable:!1,writable:!0},oe=function(e,t){var n,i;return he(t),i=this,re.call(this,e,n=function(){ae.call(i,e,n),pe.call(t,this,arguments)}),n.__eeOnceListener__=t,this},se=function(e){var t,n,i,r,o;if(me.call(this,"__ee__")&&(r=this.__ee__[e]))if("object"===y(r)){for(n=arguments.length,o=new Array(n-1),t=1;t<n;++t)o[t-1]=arguments[t];for(r=r.slice(),t=0;i=r[t];++t)pe.call(i,this,o)}else switch(arguments.length){case 1:fe.call(r,this);break;case 2:fe.call(r,this,arguments[1]);break;case 3:fe.call(r,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,o=new Array(n-1),t=1;t<n;++t)o[t-1]=arguments[t];pe.call(r,this,o)}},le={on:re=function(e,t){var n;return he(t),me.call(this,"__ee__")?n=this.__ee__:(n=be.value=ye(null),ve(this,"__ee__",be),be.value=null),n[e]?"object"===y(n[e])?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},once:oe,off:ae=function(e,t){var n,i,r,o;if(he(t),!me.call(this,"__ee__"))return this;if(!(n=this.__ee__)[e])return this;if("object"===y(i=n[e]))for(o=0;r=i[o];++o)r!==t&&r.__eeOnceListener__!==t||(2===i.length?n[e]=i[o?0:1]:i.splice(o,1));else i!==t&&i.__eeOnceListener__!==t||delete n[e];return this},emit:se},ce={on:ue(re),once:ue(oe),off:ue(ae),emit:ue(se)},de=ge({},ce),ne.exports=ie=function(e){return null==e?ye(de):ge(Object(e),ce)},ie.methods=le;var xe,we=g(_.exports),ke=function(e){return e[e.InGame=0]="InGame",e[e.InTouch=1]="InTouch",e[e.GameAndTouch=2]="GameAndTouch",e}(ke||{}),Ce={SELECT:"GCKeyBACK",START:"GCKeySTART",LT:"NULL",RT:"NULL",LB:"GCKeyLEFT_SHOULDER",RB:"GCKeyRIGHT_SHOULDER",X:"GCKeyX",Y:"GCKeyY",A:"GCKeyA",B:"GCKeyB",RS:"GCKeyRIGHT_THUMB",LS:"GCKeyLEFT_THUMB",UP:"GCKeyDPAD_UP",DOWN:"GCKeyDPAD_DOWN",LEFT:"GCKeyDPAD_LEFT",RIGHT:"GCKeyDPAD_RIGHT",L:"NULL",R:"NULL"},Se=function(e){return e[e.LB=2]="LB",e[e.LT=3]="LT",e[e.RB=4]="RB",e[e.RT=5]="RT",e[e.A=6]="A",e[e.B=7]="B",e[e.X=8]="X",e[e.Y=9]="Y",e[e.START=10]="START",e[e.SELECT=11]="SELECT",e[e.Arrow=12]="Arrow",e[e.JoystickLeft=13]="JoystickLeft",e[e.JoystickRight=14]="JoystickRight",e[e.LS=15]="LS",e[e.RS=16]="RS",e[e.COMPOS=17]="COMPOS",e}(Se||{}),Te=(s(s(s(s(s(s(s(s(s(s(xe={},2,"LB"),3,"LT"),4,"RB"),5,"RT"),6,"A"),7,"B"),8,"X"),9,"Y"),10,"START"),11,"SELECT"),s(s(s(s(s(s(xe,15,"LS"),16,"RS"),13,"L"),14,"R"),12,"ARROW"),17,"COMPOS")),Le=function(e){return e[e.Play=0]="Play",e[e.Edit=1]="Edit",e[e.Display=2]="Display",e}(Le||{}),Ae=function(e){return e[e.Single=0]="Single",e[e.Compos=1]="Compos",e}(Ae||{}),Ee={GCKeyNone:0,GCKeyDPAD_UP:1,GCKeyDPAD_DOWN:2,GCKeyDPAD_LEFT:4,GCKeyDPAD_RIGHT:8,GCKeySTART:16,GCKeyBACK:32,GCKeyLEFT_THUMB:64,GCKeyRIGHT_THUMB:128,GCKeyLEFT_SHOULDER:256,GCKeyRIGHT_SHOULDER:512,GCKeyA:4096,GCKeyB:8192,GCKeyX:16384,GCKeyY:32768,GCKeyXBOX:65536,GCKeySHARE:131072},Oe=["X","Y","A","B","LS","RS","RB","LB","LT","RT","SELECT","START","UP","DOWN","LEFT","RIGHT"],Re=[2,3,4,5,6,7,8,9,10,11,15,16,17],Be={PadState:"__pad__state__change__",KeyDown:"__pad__key__down__",KeyUp:"__pad__key__up__",StickMove:"__pad__stick__move",ChooseKey:"__pad__choose__key",AddTrigger:"__pad__add__",RecoverTrigger:"__pad__rec__",KeyTipsTrigger:"__pad__tips__",CancelTrigger:"__pad__cancel__",SaveTrigger:"__pad__save__",AddCancelTrigger:"__pad__add__cancel__",AddConfirmTrigger:"__pad__add__confirm__",AlphaChange:"__pad__alpha__",SizeChange:"__pad__size__change__",KeyDelTrigger:"__pad__key__delete__",KeyConfirmTrigger:"__pad__key__confirm__"},Ge={KeyDown:0,KeyUp:1,KeyMove:2},Pe={LB:{width:72,height:40,rotate:0,key:["LB"],type:2,key_name:"LB",nameable:!0},LT:{width:72,height:40,rotate:0,key:["LT"],type:3,key_name:"LT",nameable:!0},RB:{width:72,height:40,rotate:0,key:["RB"],type:4,key_name:"RB",nameable:!0},RT:{width:72,height:40,rotate:0,key:["RT"],type:5,key_name:"RT",nameable:!0},A:{width:50,height:50,rotate:0,key:["A"],type:6,key_name:"A",nameable:!0},B:{width:50,height:50,rotate:0,key:["B"],type:7,key_name:"B",nameable:!0},X:{width:50,height:50,rotate:0,key:["X"],type:8,key_name:"X",nameable:!0},Y:{width:50,height:50,rotate:0,key:["Y"],type:9,key_name:"Y",nameable:!0},START:{width:92,height:32,rotate:0,key:["START"],type:10,key_name:"START",nameable:!0},LS:{width:40,height:40,rotate:0,key:["LS"],type:15,key_name:"LS",nameable:!0},RS:{width:40,height:40,rotate:0,key:["RS"],type:16,key_name:"RS",nameable:!0},SELECT:{width:92,height:32,rotate:0,key:["SELECT"],type:11,key_name:"SELECT",nameable:!0},L:{width:136,height:136,rotate:0,key:["L"],type:13,key_name:"L",nameable:!1},R:{width:136,height:136,rotate:0,key:["R"],type:14,key_name:"R",nameable:!1},COMPOS:{width:92,height:32,rotate:0,type:17,nameable:!0},ARROW:{width:124,height:124,rotate:0,key:["ARROW"],type:12,key_name:"",nameable:!1},LEFT:{width:58,height:40,key:["LEFT"],type:12,key_name:"LEFT"},RIGHT:{width:58,height:40,key:["RIGHT"],type:12,key_name:"RIGHT"},DOWN:{width:40,height:58,key:["DOWN"],type:12,key_name:"DOWN"},UP:{width:40,height:58,key:["UP"],type:12,key_name:"UP"}},je={exports:{}};!function(e){e.exports=function(){function e(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,t(r.key),r)}}function t(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=y(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}function n(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var i,r,o,a=n((function(e,t){var n;e.exports=n=n||function(e){var t=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),n={},i=n.lib={},r=i.Base={extend:function(e){var n=t(this);return e&&n.mixIn(e),n.hasOwnProperty("init")&&this.init!==n.init||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=i.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,r=e.sigBytes;if(this.clamp(),i%4)for(var o=0;o<r;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[i+o>>>2]|=a<<24-(i+o)%4*8}else for(o=0;o<r;o+=4)t[i+o>>>2]=n[o>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,i=[],r=function(t){var n=987654321,i=4294967295;return function(){var r=((n=36969*(65535&n)+(n>>16)&i)<<16)+(t=18e3*(65535&t)+(t>>16)&i)&i;return r/=4294967296,(r+=.5)*(e.random()>.5?1:-1)}},a=0;a<t;a+=4){var s=r(4294967296*(n||e.random()));n=987654071*s(),i.push(4294967296*s()|0)}return new o.init(i,t)}}),a=n.enc={},s=a.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var o=t[r>>>2]>>>24-r%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new o.init(n,t/2)}},l=a.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var o=t[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(o))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new o.init(n,t)}},c=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,r=n.sigBytes,a=this.blockSize,s=r/(4*a),l=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,c=e.min(4*l,r);if(l){for(var d=0;d<l;d+=a)this._doProcessBlock(i,d);var u=i.splice(0,l);n.sigBytes-=c}return new o.init(u,c)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=d.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new u.HMAC.init(e,n).finalize(t)}}});var u=n.algo={};return n}(Math)})),s=n((function(e,t){var n;e.exports=(n=a,function(e){var t=n,i=t.lib,r=i.WordArray,o=i.Hasher,a=t.algo,s=[],l=[];!function(){function t(t){for(var n=e.sqrt(t),i=2;i<=n;i++)if(!(t%i))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var i=2,r=0;r<64;)t(i)&&(r<8&&(s[r]=n(e.pow(i,.5))),l[r]=n(e.pow(i,1/3)),r++),i++}();var c=[],d=a.SHA256=o.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],d=n[5],u=n[6],h=n[7],p=0;p<64;p++){if(p<16)c[p]=0|e[t+p];else{var f=c[p-15],y=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,v=c[p-2],g=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;c[p]=y+c[p-7]+g+c[p-16]}var m=i&r^i&o^r&o,b=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),_=h+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&d^~s&u)+l[p]+c[p];h=u,u=d,d=s,s=a+_|0,a=o,o=r,r=i,i=_+(b+m)|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+d|0,n[6]=n[6]+u|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=e.floor(i/4294967296),n[15+(r+64>>>9<<4)]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(d),t.HmacSHA256=o._createHmacHelper(d)}(Math),n.SHA256)})),l=(n((function(e,t){var n,i,r;e.exports=(i=(n=a).lib.Base,r=n.enc.Utf8,void(n.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),s=o.words,l=a.words,c=0;c<n;c++)s[c]^=1549556828,l[c]^=909522486;o.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))})),n((function(e,t){e.exports=a.HmacSHA256}))),c={hmac:function(e,t){return l(t,e)},sha256:function(e){return s(e)}},d=["authorization","content-type","content-length","user-agent","presigned-expires","expect","x-amzn-trace-id"],u=function(e){try{return encodeURIComponent(e).replace(/[^A-Za-z0-9_.~\-%]+/g,escape).replace(/[*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))}catch(t){return""}},h=function(e){return Object.keys(e).sort().map((function(t){var n=e[t];if(null!=n){var i=u(t);if(i)return Array.isArray(n)?"".concat(i,"=").concat(n.map(u).sort().join("&".concat(i,"="))):"".concat(i,"=").concat(u(n))}})).filter((function(e){return e})).join("&")};return i=function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.request=t,this.request.headers=t.headers||{},this.serviceName=n,i=i||{},this.signatureCache="boolean"!=typeof i.signatureCache||i.signatureCache,this.operation=i.operation,this.signatureVersion=i.signatureVersion,this.constant=i.isVolcengine?{algorithm:"HMAC-SHA256",v4Identifier:"request",dateHeader:"X-Date",tokenHeader:"x-security-token",contentSha256Header:"X-Content-Sha256",kDatePrefix:""}:{algorithm:"AWS4-HMAC-SHA256",v4Identifier:"aws4_request",dateHeader:"X-Amz-Date",tokenHeader:"x-amz-security-token",contentSha256Header:"X-Amz-Content-Sha256",kDatePrefix:"AWS4"},this.bodySha256=i.bodySha256,this.shouldSerializeBody="boolean"!=typeof i.shouldSerializeBody||i.shouldSerializeBody},(r=[{key:"addAuthorization",value:function(e,t){var n=this.iso8601(t).replace(/[:\-]|\.\d{3}/g,"");this.addHeaders(e,n),this.request.headers.Authorization=this.authorization(e,n)}},{key:"addAuthorizationToBody",value:function(e,t){var n=this.iso8601(t).replace(/[:\-]|\.\d{3}/g,"");this.addParams(e,n),this.authorizationParams(e,n)}},{key:"addParams",value:function(e,t){if(this.request.params[this.constant.dateHeader]=t,e.sessionToken&&(this.request.params["X-Security-Token"]=e.sessionToken),this.request.body){var n=this.request.body;"string"!=typeof n&&this.shouldSerializeBody&&(n=n instanceof URLSearchParams?n.toString():JSON.stringify(n));var i=this.bodySha256||c.sha256(n).toString();this.request.params[this.constant.contentSha256Header]=i}}},{key:"authorizationParams",value:function(e,t){var n=this.credentialString(t);this.request.params["X-Algorithm"]=this.constant.algorithm,this.request.params["X-Credential"]="".concat(e.accessKeyId,"/").concat(n),this.request.params["X-Signature"]="".concat(this.signature(e,t))}},{key:"addHeaders",value:function(e,t){if(this.request.headers[this.constant.dateHeader]=t,e.sessionToken&&(this.request.headers[this.constant.tokenHeader]=e.sessionToken),this.request.body){var n=this.request.body;"string"!=typeof n&&this.shouldSerializeBody&&(n=n instanceof URLSearchParams?n.toString():JSON.stringify(n)),this.request.headers[this.constant.contentSha256Header]=this.bodySha256||c.sha256(n).toString()}}},{key:"authorization",value:function(e,t){var n=[],i=this.credentialString(t);return n.push("".concat(this.constant.algorithm," Credential=").concat(e.accessKeyId,"/").concat(i)),n.push("SignedHeaders=".concat(this.signedHeaders())),n.push("Signature=".concat(this.signature(e,t))),n.join(", ")}},{key:"signature",value:function(e,t){var n=this.getSigningKey(e,t.substr(0,8),this.request.region,this.serviceName,this.signatureCache);return c.hmac(n,this.stringToSign(t),"hex")}},{key:"stringToSign",value:function(e){var t=[];return t.push(this.constant.algorithm),t.push(e),t.push(this.credentialString(e)),t.push(this.hexEncodedHash(this.canonicalString())),t.join("\n")}},{key:"canonicalString",value:function(){var e=[],t=this.request.pathname||"/";return e.push(this.request.method.toUpperCase()),e.push(t),e.push(h(this.request.params)||""),e.push("".concat(this.canonicalHeaders(),"\n")),e.push(this.signedHeaders()),e.push(this.hexEncodedBodyHash()),e.join("\n")}},{key:"canonicalHeaders",value:function(){var e=this,t=[];Object.keys(this.request.headers).forEach((function(n){t.push([n,e.request.headers[n]])})),t.sort((function(e,t){return e[0].toLowerCase()<t[0].toLowerCase()?-1:1}));var n=[];return t.forEach((function(t){var i=t[0].toLowerCase();if(e.isSignableHeader(i)){var r=t[1];if(null==r||"function"!=typeof r.toString)throw new Error("Header ".concat(i," contains invalid value"));n.push("".concat(i,":").concat(e.canonicalHeaderValues(r.toString())))}})),n.join("\n")}},{key:"canonicalHeaderValues",value:function(e){return e.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")}},{key:"signedHeaders",value:function(){var e=this,t=[];return Object.keys(this.request.headers).forEach((function(n){n=n.toLowerCase(),e.isSignableHeader(n)&&t.push(n)})),t.sort().join(";")}},{key:"credentialString",value:function(e){return this.createScope(e.substr(0,8),this.request.region,this.serviceName)}},{key:"hexEncodedHash",value:function(e){return c.sha256(e)}},{key:"hexEncodedBodyHash",value:function(){return this.request.headers[this.constant.contentSha256Header]?this.request.headers[this.constant.contentSha256Header]:this.request.params[this.constant.contentSha256Header]?this.request.params[this.constant.contentSha256Header]:this.request.body?this.hexEncodedHash(h(this.request.body)):this.hexEncodedHash("")}},{key:"isSignableHeader",value:function(e){return 0===e.toLowerCase().indexOf("x-amz-")||d.indexOf(e)<0}},{key:"iso8601",value:function(e){return void 0===e&&(e=new Date),e.toISOString().replace(/\.\d{3}Z$/,"Z")}},{key:"getSigningKey",value:function(e,t,n,i){var r=c.hmac("".concat(this.constant.kDatePrefix).concat(e.secretAccessKey),t),o=c.hmac(r,n),a=c.hmac(o,i);return c.hmac(a,this.constant.v4Identifier)}},{key:"createScope",value:function(e,t,n){return[e.substr(0,8),t,n,this.constant.v4Identifier].join("/")}}])&&e(i.prototype,r),o&&e(i,o),Object.defineProperty(i,"prototype",{writable:!1}),i}()}(je);var $e=g(je.exports);function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")}function Fe(e,t,n){return new Promise((function(i,r){var o={Action:"GetKeyMappingConfig",Version:"2023-01-01",GameId:e},a={method:"GET",url:"".concat((null==n?void 0:n.host)||"https://veGame.volcengineapi.com","?").concat(Me(o)),region:"cn-north-1",params:o,mode:"cors"};new $e(a,"veGame",{isVolcengine:!0}).addAuthorization({accessKeyId:t.AccessKeyID,secretAccessKey:t.SecretAccessKey,sessionToken:t.SessionToken},new Date),fetch(a.url,a).then((function(e){return e.json()})).then((function(e){var t,n,o=null==e||null===(t=e.Result)||void 0===t?void 0:t.Row;if(Array.isArray(o)&&o.length>0)i(o);else if(null!==(n=e.ResponseMetadata)&&void 0!==n&&n.Error){var a,s=null===(a=e.ResponseMetadata)||void 0===a?void 0:a.Error,l={message:s.Message,errorCode:s.CodeN};r(l)}else{r({message:"Failed to fetch. Unknown network error."})}})).catch((function(e){r(e)}))}))}var He=function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=console).warn.apply(e,["[veGamePad]"].concat(n))},ze=function(e,t){t?e.style({transform:"scale(".concat(.9,")")}):e.style({transform:""})},Ke=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.getBoundingClientRect(),r=t.getBoundingClientRect();return{width:n?i.height:i.width,height:n?i.width:i.height,top:n?r.width-(i.right-r.left):i.top-r.top,left:n?i.top-r.top:i.left-r.left,right:n?r.height-(i.bottom-r.top):r.width-(i.right-r.left),bottom:n?i.left-r.left:r.height-(i.bottom-r.top)}};function De(e,t,n){return n<e?e:n>t?t:n}var Ie=function(e,t,n,i){var r=Math.sqrt(Math.pow(e-n,2)+Math.pow(t-i,2)),o=180/Math.PI*Math.acos((t-i)/r);return n<e&&(o*=-1),[Math.round(o),r]},Ue=[{width:72,height:40,coordinate_x:176,coordinate_y:88,alpha:1,rotate:0,key:["LB"],type:2,x_base:0,y_base:0,key_name:"LB"},{width:72,height:40,coordinate_x:96,coordinate_y:88,alpha:1,rotate:null,key:["LT"],type:3,x_base:0,y_base:0,key_name:"LT"},{width:72,height:40,coordinate_x:176,coordinate_y:88,alpha:1,rotate:0,key:["RB"],type:4,x_base:1,y_base:0,key_name:"RB"},{width:72,height:40,coordinate_x:96,coordinate_y:88,alpha:1,rotate:0,key:["RT"],type:5,x_base:1,y_base:0,key_name:"RT"},{width:50,height:50,coordinate_x:132,coordinate_y:258,alpha:1,rotate:0,key:["A"],type:6,x_base:1,y_base:0,key_name:"A"},{width:50,height:50,coordinate_x:81,coordinate_y:207,alpha:1,rotate:0,key:["B"],type:7,x_base:1,y_base:0,key_name:"B"},{width:50,height:50,coordinate_x:183,coordinate_y:207,alpha:1,rotate:0,key:["X"],type:8,x_base:1,y_base:0,key_name:"X"},{width:50,height:50,coordinate_x:132,coordinate_y:156,alpha:1,rotate:0,key:["Y"],type:9,x_base:1,y_base:0,key_name:"Y"},{width:92,height:32,coordinate_x:102,coordinate_y:28,alpha:1,rotate:0,key:["START"],type:10,x_base:1,y_base:0,key_name:"START"},{width:92,height:32,coordinate_x:102,coordinate_y:28,alpha:1,rotate:0,key:["SELECT"],type:11,x_base:0,y_base:0,key_name:"SELECT"},{width:124,height:124,coordinate_x:118,coordinate_y:207,alpha:1,rotate:0,key:["ARROW"],type:12,x_base:0,y_base:0},{width:136,height:136,coordinate_x:286,coordinate_y:108,alpha:1,rotate:0,key:["L"],type:13,x_base:0,y_base:1},{width:136,height:136,coordinate_x:286,coordinate_y:108,alpha:1,rotate:0,key:["R"],type:14,x_base:1,y_base:1},{width:40,height:40,coordinate_x:76,coordinate_y:44,alpha:1,rotate:0,key:["LS"],type:15,x_base:0,y_base:1,key_name:"LS"},{width:40,height:40,coordinate_x:76,coordinate_y:44,alpha:1,rotate:0,key:["RS"],type:16,x_base:1,y_base:1,key_name:"RS"}];function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==y(Symbol.iterator)?function(e){return y(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":y(e)})(e)}function qe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Xe(e,t){var n,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ve(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return o=e.done,e},e:function(e){a=!0,r=e},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw r}}}}function Ye(){for(var e={},t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach((function(t){e[t]=function(n){e[t]=n}})),e}var We=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.__xr_funcs={},this.el="string"==typeof t?document.createElement(t):t}return t=e,n=[{key:"class",value:function(e){return void 0===e?this.el.className:(this.el.className=e,this)}},{key:"addClass",value:function(e){return this.el.classList.add(e),this}},{key:"removeClass",value:function(e){return this.el.classList.remove(e),this}},{key:"hasClass",value:function(e){var t;return null==(t=this.el)?void 0:t.classList.contains(e)}},{key:"toggleClass",value:function(e,t){var n;return null==(n=this.el)?void 0:n.classList.toggle(e,t)}},{key:"remove",value:function(){var e;return null==(e=this.el)?void 0:e.remove()}},{key:"text",value:function(e){return void 0===e?this.el.innerText:(this.el.innerText=e,this)}},{key:"mounted",value:function(e){return this.__mounted=e,this}},{key:"attr",value:function(e,t){if("object"===Ne(e))for(var n in e)this.attr(n,e[n]);else{if(void 0===t)return this.el.getAttribute(e)||"";this.el.setAttribute(e,t)}return this}},{key:"removeAttr",value:function(e){return this.el.removeAttribute(e),this}},{key:"func",value:function(e,t){return void 0===t?this.__xr_funcs[e]:(this.__xr_funcs[e]=t,this)}},{key:"data",value:function(e,t){var n;if("object"===Ne(e))for(var i in e)this.data(i,e[i]);else{if(void 0===t)return(null==(n=this.el.__xr_data)?void 0:n[e])||null;this.el.__xr_data||(this.el.__xr_data={}),this.el.__xr_data[e]=t}return this}},{key:"style",value:function(e,t){var n,i=this.el.style;if(void 0!==t)return i[e]=t,this;if("string"==typeof e)return i[e];for(n in e)i[n]=e[n];return this}},{key:"value",value:function(e){return void 0===e?this.el.value:(this.el.value=e,this)}},{key:"html",value:function(e){return void 0===e?this.el.innerHTML:(this.el.innerHTML=e,this)}},{key:"outerHtml",value:function(e){return void 0===e?this.el.outerHTML:(this.html(e),this.el=this.el.children[0],this)}},{key:"child",value:function(t){return(t=this.el.children[t])?new e(t):null}},{key:"children",value:function(){for(var e=this.el.children.length,t=[],n=0;n<e;n++)t.push(this.child(n));return t}},{key:"click",value:function(e){return this.event("click",e)}},{key:"event",value:function(e,t){var n;if("object"===Ne(e))for(var i in e)this.event(i,e[i]);else{var r=this.el;"function"==typeof t?this.el.addEventListener(e,t):r.addEventListener(e,(function n(i){var o;t.self&&i.target!==r||(t.stop&&i.stopPropagation(),t.prevent&&i.preventDefault(),t.once&&r.removeEventListener(e,n,t.capture),null!=(o=t.listener)&&o.call(t,i))}),null!=(n=t.capture)&&n)}return this}},{key:"append",value:function(){for(var t=this,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return i.forEach((function(n){if(Array.isArray(n)){var i,r=Xe(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;t.append(o)}}catch(s){r.e(s)}finally{r.f()}}else{var a=n;n instanceof e?a=n.el:n instanceof HTMLElement||(a=document.createTextNode("".concat(n))),t.el.appendChild(a),null!=(a=n.__mounted)&&a.call(n,n)}})),this}},{key:"ref",value:function(e){return e(this),this}},{key:"hide",value:function(){return this.style("display","none")}},{key:"show",value:function(){return this.style("display",0<arguments.length&&void 0!==arguments[0]?arguments[0]:"block")}},{key:"setVisible",value:function(){return 0<arguments.length&&void 0!==arguments[0]&&!arguments[0]?this.hide():this.show(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"block")}},{key:"query",value:function(e){return function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:document;if(t){if(t=n.querySelector(e))return new We(t);throw new Error("Element is not exist"+e)}for(var i=n.querySelectorAll(e),r=[],o=0;o<i.length;o++)r.push(new We(i[o]));return r}(e,1<arguments.length&&void 0!==arguments[1]&&arguments[1],this.el)}},{key:"src",value:function(e){var t;return void 0===e?null==(t=this.el)?void 0:t.src:(this.el.src=e,this)}},{key:"parent",value:function(){return this.el.parentElement}},{key:"empty",value:function(){return this.html("")}},{key:"name",value:function(e){return this.attr("__xr_name",e)}},{key:"find",value:function(e){return this.query('[__xr_name="'.concat(e,'"]'),!0)}}],n&&qe(t.prototype,n),i&&qe(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e;var t,n,i}(),Ze=["a","div","h1","h2","h3","h4","h5","h6","button","canvas","code","pre","table","th","td","tr","video","audio","ol","select","option","p","i","iframe","img","input","label","ul","li","span","textarea","form","br","tbody","object","progress","section","slot","small","strong","sub","summary","sup","template","title","var","style","meta","head","link","svg","script"];var Je,Qe=function(){function e(e){return new We(e)}var t={};return Ze.forEach((function(n){t[n]={get:function(){return e(n)}}})),Object.defineProperties(e,t),e}(),et=function(e){var t={UP:0,RIGHT:180,DOWN:180,LEFT:0};return'<svg style="transform:rotate('.concat(t[e],"LEFT"===e||"RIGHT"===e?'deg)" width="100%" height="100%" viewBox="0 0 58 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M9.63 40C4.3115 40 -5.66065e-07 35.6885 -1.26434e-06 30.37L-3.98734e-06 9.63C-4.68562e-06 4.3115 4.31149 -5.64705e-07 9.62999 -1.2613e-06L34.6112 -4.53326e-06C36.7271 -4.81039e-06 38.7568 0.838198 40.2561 2.33116L53.7303 15.7484C56.0855 18.0936 56.0855 21.9064 53.7303 24.2516L40.2561 37.6688C38.7568 39.1618 36.7271 40 34.6112 40L9.63 40Z" fill="url(#paint0_linear_5290_39434)" fill-opacity="0.6"/>\n        <path d="M9.63 39.5C4.58764 39.5 0.499999 35.4124 0.499999 30.37L0.499996 9.63C0.499995 4.58764 4.58764 0.499999 9.62999 0.499999L34.6112 0.499995C36.5948 0.499995 38.4977 1.28581 39.9033 2.68546L53.3775 16.1027C55.5364 18.2524 55.5364 21.7476 53.3775 23.8973L39.9033 37.3145C38.4977 38.7142 36.5948 39.5 34.6112 39.5L9.63 39.5Z" stroke="#2A3139" stroke-opacity="0.5"/>\n        <g filter="url(#filter0_d_5290_39434)">\n        <path d="M16.7518 21.0309C15.8296 20.3927 15.8296 19.0297 16.7518 18.3915L21.3538 15.207C22.4182 14.4705 23.8718 15.2323 23.8718 16.5267L23.8718 22.8957C23.8718 24.1901 22.4182 24.952 21.3538 24.2154L16.7518 21.0309Z" fill="url(#paint1_linear_5290_39434)"/>\n        <path d="M16.7518 21.0309C15.8296 20.3927 15.8296 19.0297 16.7518 18.3915L21.3538 15.207C22.4182 14.4705 23.8718 15.2323 23.8718 16.5267L23.8718 22.8957C23.8718 24.1901 22.4182 24.952 21.3538 24.2154L16.7518 21.0309Z" fill="white"/>\n        </g>\n        <defs>\n        <filter id="filter0_d_5290_39434" x="8.06055" y="6.91907" width="23.8115" height="25.5842" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n        <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n        <feOffset/>\n        <feGaussianBlur stdDeviation="4"/>\n        <feComposite in2="hardAlpha" operator="out"/>\n        <feColorMatrix type="matrix" values="0 0 0 0 0.4 0 0 0 0 1 0 0 0 0 0.921569 0 0 0 0.4 0"/>\n        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_5290_39434"/>\n        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_5290_39434" result="shape"/>\n        </filter>\n        <linearGradient id="paint0_linear_5290_39434" x1="-2.62584e-06" y1="20" x2="58" y2="20" gradientUnits="userSpaceOnUse">\n        <stop stop-color="#121820"/>\n        <stop offset="1" stop-color="#2B353F"/>\n        </linearGradient>\n        <linearGradient id="paint1_linear_5290_39434" x1="16.9761" y1="19.4441" x2="26.1286" y2="19.4441" gradientUnits="userSpaceOnUse">\n        <stop stop-color="white"/>\n        <stop offset="1" stop-color="white" stop-opacity="0.5"/>\n        </linearGradient>\n        </defs>\n        </svg>':'deg)" width="100%" height="100%" viewBox="0 0 40 58" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M40 10C40 4.47715 35.5228 -3.90935e-07 30 -8.73177e-07L10 -2.61953e-06C4.47715 -3.10177e-06 -3.91876e-07 4.47715 -8.7528e-07 10L-2.59569e-06 29.6556C-3.05868e-06 34.9452 2.09551 40.0194 5.8279 43.7677L14.3312 52.3071C17.4581 55.4473 22.5419 55.4473 25.6688 52.3071L34.1721 43.7677C37.9045 40.0194 40 34.9452 40 29.6556L40 10Z" fill="url(#paint0_linear_5290_39439)" fill-opacity="0.6"/>\n        <path d="M39.5 10C39.5 4.75329 35.2467 0.5 30 0.499999L10 0.499997C4.7533 0.499997 0.5 4.75329 0.499999 10L0.499997 29.6556C0.499997 34.813 2.54312 39.7603 6.18221 43.4149L14.6855 51.9543C17.6169 54.8982 22.383 54.8982 25.3145 51.9543L33.8178 43.4149C37.4569 39.7603 39.5 34.813 39.5 29.6556L39.5 10Z" stroke="#2A3139" stroke-opacity="0.5"/>\n        <g filter="url(#filter0_d_5290_39439)">\n        <path d="M21.1038 16.7277C20.4655 15.8075 19.1048 15.8075 18.4665 16.7277L15.2787 21.3234C14.5405 22.3876 15.3021 23.8429 16.5973 23.8429L22.973 23.8429C24.2682 23.8429 25.0299 22.3876 24.2917 21.3234L21.1038 16.7277Z" fill="url(#paint1_linear_5290_39439)"/>\n        <path d="M21.1038 16.7277C20.4655 15.8075 19.1048 15.8075 18.4665 16.7277L15.2787 21.3234C14.5405 22.3876 15.3021 23.8429 16.5973 23.8429L22.973 23.8429C24.2682 23.8429 25.0299 22.3876 24.2917 21.3234L21.1038 16.7277Z" fill="white"/>\n        </g>\n        <defs>\n        <filter id="filter0_d_5290_39439" x="6.98926" y="8.03748" width="25.5918" height="23.8054" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n        <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n        <feOffset/>\n        <feGaussianBlur stdDeviation="4"/>\n        <feComposite in2="hardAlpha" operator="out"/>\n        <feColorMatrix type="matrix" values="0 0 0 0 0.4 0 0 0 0 1 0 0 0 0 0.921569 0 0 0 0.4 0"/>\n        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_5290_39439"/>\n        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_5290_39439" result="shape"/>\n        </filter>\n        <linearGradient id="paint0_linear_5290_39439" x1="20" y1="-1.74635e-06" x2="20" y2="58" gradientUnits="userSpaceOnUse">\n        <stop stop-color="#121820"/>\n        <stop offset="1" stop-color="#2B353F"/>\n        </linearGradient>\n        <linearGradient id="paint1_linear_5290_39439" x1="19.5177" y1="16.9555" x2="19.5177" y2="26.0969" gradientUnits="userSpaceOnUse">\n        <stop stop-color="white"/>\n        <stop offset="1" stop-color="white" stop-opacity="0.5"/>\n        </linearGradient>\n        </defs>\n        </svg>')},tt=function(){return'<svg width="100%" height="100%" preserveAspectRatio="none" viewBox="0 0 136 136" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="68" cy="68" r="67.5" fill="url(#paint0_linear_6260_62861)" fill-opacity="0.2" stroke="url(#paint1_linear_6260_62861)"/>\n    <defs>\n    <linearGradient id="paint0_linear_6260_62861" x1="136" y1="68" x2="0" y2="68" gradientUnits="userSpaceOnUse">\n    <stop stop-color="#00E5E5"/>\n    <stop offset="1" stop-color="#00E5E5" stop-opacity="0"/>\n    </linearGradient>\n    <linearGradient id="paint1_linear_6260_62861" x1="136" y1="68" x2="0" y2="68" gradientUnits="userSpaceOnUse">\n    <stop stop-color="#73FFEF"/>\n    <stop offset="0.229089" stop-color="#73FFEF" stop-opacity="0"/>\n    </linearGradient>\n    </defs>\n    </svg>'},nt=function(){return'<svg width="100%" height="100%" preserveAspectRatio="none" viewBox="0 0 136 136" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="68" cy="68" r="67.5" fill="url(#paint0_linear_6260_62870)" fill-opacity="0.2" stroke="url(#paint1_linear_6260_62870)"/>\n    <defs>\n    <linearGradient id="paint0_linear_6260_62870" x1="136" y1="68" x2="0" y2="68" gradientUnits="userSpaceOnUse">\n    <stop stop-color="#60B2FF"/>\n    <stop offset="1" stop-color="#60B2FF" stop-opacity="0"/>\n    </linearGradient>\n    <linearGradient id="paint1_linear_6260_62870" x1="136" y1="68" x2="0" y2="68" gradientUnits="userSpaceOnUse">\n    <stop stop-color="#4B99FF"/>\n    <stop offset="0.229089" stop-color="#4B99FF" stop-opacity="0"/>\n    </linearGradient>\n    </defs>\n    </svg>'},it=function(){return'<svg width="100%" height="100%" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="20" cy="20" r="20" fill="url(#paint0_linear_5296_12242)" fill-opacity="0.6"/>\n    <circle cx="20" cy="20" r="19.5" stroke="#2A3139" stroke-opacity="0.5"/>\n    <defs>\n    <linearGradient id="paint0_linear_5296_12242" x1="20" y1="0" x2="20" y2="40" gradientUnits="userSpaceOnUse">\n    <stop stop-color="#121820"/>\n    <stop offset="1" stop-color="#2B353F"/>\n    </linearGradient>\n    </defs>\n    </svg>'},rt=function(){return'<svg width="100%" height="100%" viewBox="0 0 92 32" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 16C0 7.16344 7.16344 0 16 0L76 0C84.8366 0 92 7.16344 92 16C92 24.8366 84.8366 32 76 32L16 32C7.16345 32 0 24.8366 0 16Z" fill="url(#paint0_linear_5237_50785)" fill-opacity="0.6"/>\n    <path d="M0.5 16C0.5 7.43959 7.43959 0.5 16 0.5L76 0.5C84.5604 0.5 91.5 7.43959 91.5 16C91.5 24.5604 84.5604 31.5 76 31.5L16 31.5C7.43959 31.5 0.5 24.5604 0.5 16Z" stroke="#2A3139" stroke-opacity="0.5"/>\n    <defs>\n    <linearGradient id="paint0_linear_5237_50785" x1="46" y1="0" x2="46" y2="32" gradientUnits="userSpaceOnUse">\n    <stop stop-color="#121820"/>\n    <stop offset="1" stop-color="#2B353F"/>\n    </linearGradient>\n    </defs>\n    </svg>'},ot=function(){return'<svg width="100%" height="100%" viewBox="0 0 72 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 20C0 8.95431 8.95431 0 20 0H52C63.0457 0 72 8.95431 72 20C72 31.0457 63.0457 40 52 40H20C8.95431 40 0 31.0457 0 20Z" fill="url(#paint0_linear_5237_50798)" fill-opacity="0.6"/>\n    <path d="M0.5 20C0.5 9.23045 9.23045 0.5 20 0.5H52C62.7696 0.5 71.5 9.23045 71.5 20C71.5 30.7696 62.7696 39.5 52 39.5H20C9.23045 39.5 0.5 30.7696 0.5 20Z" stroke="#2A3139" stroke-opacity="0.5"/>\n    <defs>\n    <linearGradient id="paint0_linear_5237_50798" x1="36" y1="0" x2="36" y2="40" gradientUnits="userSpaceOnUse">\n    <stop stop-color="#121820"/>\n    <stop offset="1" stop-color="#2B353F"/>\n    </linearGradient>\n    </defs>\n    </svg>'},at=(s(s(s(s(s(s(s(s(s(s(Je={},Se.SELECT,rt),Se.START,rt),Se.COMPOS,rt),Se.LS,it),Se.RS,it),Se.X,it),Se.Y,it),Se.A,it),Se.B,it),Se.LT,ot),s(s(s(Je,Se.LB,ot),Se.RB,ot),Se.RT,ot));function st(e,t,n){var i,r=t.coordinate_x,o=t.coordinate_y,a=t.x_base,s=t.y_base,l=t.width,c=t.height,d=t.alpha,u=t.rotate;t.key;var p=t.type;t.key_name;var f=e.evt;switch(p){case Se.JoystickLeft:case Se.JoystickRight:i=function(e,t,n){var i=e.evt,r=t.type,o=t.width;t.height;var a=Math.round(o*(56/136));if(n===Le.Display)return Qe.div.class("vg-pad-key vg-pad-key-rocker").append(Qe.span.class("vg-pad-key-desc").text(Te[r]));var s,l=Ye("tbg","ic"),c=Qe.div.class("vg-pad-key").append(Qe.div.class("vg-pad-key-rocker-bg"),Qe.div.ref(l.tbg).class("vg-pad-ab vg-pad-svg").style("visibility","hidden").html(r===Se.JoystickLeft?tt():nt()),Qe.div.ref(l.ic).class("vg-pad-key vg-pad-evts vg-pad-key-rocker").append(Qe.span.class("vg-pad-key-desc").text(Te[r]))).mounted((function(){setTimeout((function(){if(n===Le.Play){var t=e.$container,i=e.needRotate,r=Ke(c.el,t,i),o=r.width,l=r.height,d=r.top,u=r.left;r.right;var h=t.getBoundingClientRect();s={wr:o/2,ir:a/2,centerX:u+o/2,centerY:d+l/2,wt:d,wl:u,ct:h.top,cl:h.left,cw:h.width}}}))}));return n===Le.Play&&(c.addClass("vg-pad-noevts"),l.ic.event({touchmove:function(t){var n=t.targetTouches[0],o=n.clientX,a=n.clientY,c=s,d=c.centerX,u=c.centerY,p=c.ct,f=c.cl,y=c.cw,v=c.wr,g=c.ir,m=c.wt,b=c.wl,_=e.needRotate,x=_?a-p:o-f,w=_?y-o+f:a-p,k=h(Ie(d,u,x,w),2),C=k[0],S=k[1],T=C*Math.PI/180,L=0,A=0;if(S>v-g){var E=v-g;L=v-Math.cos(T)*E-g-2,A=v+Math.sin(T)*E-g-2}else L=w-m-g,A=x-b-g;l.ic.style({top:"".concat(L,"px"),left:"".concat(A,"px")}),l.tbg.style({visibility:"visible",transform:"rotate(".concat(C%360-90,"deg)")}),i.emit(Be.PadState,{key:Te[r],type:r,operation:Ge.KeyMove,value:{x:x-d>0?Math.min((x-d)/v,1):Math.max((x-d)/v,-1),y:w-u>0?Math.max((u-w)/v,-1):Math.min((u-w)/v,1)}})},touchend:function(){l.ic.style({top:"",left:""}),l.tbg.style({visibility:"hidden"}),i.emit(Be.PadState,{key:Te[r],type:r,operation:Ge.KeyMove,value:0})}})),c}(e,t,n);break;case Se.Arrow:i=function(e,t,n){var i=e.width,r=e.height;e.key,e.type;var o=Math.ceil(40/124*i),a=Math.ceil(58/124*r),s={UP:[o,a],DOWN:[o,a],LEFT:[a,o],RIGHT:[a,o]},l=Object.keys(s).map((function(e){var i=Qe.div.class("vg-pad-key-arrow-".concat(e.toLowerCase()," vg-pad-evts")).append(Qe.div.class("vg-pad-svg").html(et(e.toLocaleUpperCase())));return t===Le.Play&&i.event({touchstart:function(t){t.preventDefault(),ze(i.child(0),!0),n.emit(Be.PadState,{key:[e],type:Se.Arrow,operation:Ge.KeyDown})},touchend:function(t){t.preventDefault(),ze(i.child(0),!1),n.emit(Be.PadState,{key:[e],type:Se.Arrow,operation:Ge.KeyUp})}}),i}));return Qe.div.class("vg-pad-key vg-pad-noevts").append(l)}(t,n,f);break;default:i=function(e,t,n){var i=e.width,r=e.height;e.alpha,e.rotate;var o=e.key,a=e.type,s=e.key_name,l=e.show_tips,c=at[a](i,r),d=Qe.div.class("vg-pad-key").append(Qe.div.class("vg-pad-svg vg-pad-key-sw").html(c),Qe.span.class("vg-pad-key-desc").text(s||Te[a]||""));if(l&&(t===Le.Play||t===Le.Edit)){var u=o.join("+");u!==s&&d.append(Qe.span.text(u).class("vg-pad-key-tips"))}return t===Le.Play&&(d.event("touchstart",(function(e){e.preventDefault(),ze(d,!0),n.emit(Be.PadState,{key:o,type:a,operation:Ge.KeyDown})})),d.event("touchend",(function(e){ze(d,!1),n.emit(Be.PadState,{key:o,type:a,operation:Ge.KeyUp})}))),d}(t,n,f)}if(i.data("config",t),n===Le.Edit||n===Le.Play){var y="transform:rotate(".concat(Number(u),"deg);opacity:").concat(d,";width:").concat(l,"px;height:").concat(c,"px;").concat(0===a?"left":"right",":").concat(r-l/2,"px;").concat(0===s?"top":"bottom",":").concat(o-c/2,"px;");i.attr("style",y)}if(n===Le.Edit){var v=0,g=0;i.event("touchstart",(function(t){t.preventDefault();var n=t.targetTouches[0],r=n.clientX,o=n.clientY;f.emit(Be.ChooseKey,i);var a=Ke(i.el,e.$ele.el,e.needRotate);v=e.needRotate?o-a.left-e.layoutInfo.top:r-e.layoutInfo.left-a.left,g=e.needRotate?e.layoutInfo.height-(r-e.layoutInfo.left)-a.top:o-e.layoutInfo.top-a.top})),i.event("touchmove",(function(t){var n=t.targetTouches[0],r=n.clientX,o=n.clientY,a=e.needRotate,s=e.layoutInfo,l=s.height,c=s.top,d=s.left,u=a?o-c-v:r-d-v,h=a?l-g-(r-d):o-c-g;i.el.style.left="".concat(u,"px"),i.el.style.top="".concat(h,"px")}))}if(n===Le.Display){var m=.5,b=l,_=c;p===Se.Arrow&&(m=44/124),p!==Se.JoystickLeft&&p!==Se.JoystickRight||(b=56,_=56);var x="transform:scale(".concat(m,");width:").concat(b,"px;height:").concat(_,"px;");i.attr("style",x)}return i}var lt=function(){return a((function e(t,n){var i=this;r(this,e),this.refs=Ye("ts","tc","tab","confirm"),this.list=[],this.mode=Ae.Single,this.composCandidate=new Set,this.onConfirmTouch=function(){if(i.judgeConfirm()){var e={};if(i.mode===Ae.Single)Object.assign(e,i.singleCandidate);else{var t=Array.from(i.composCandidate.values());Object.assign(e,Pe.COMPOS,{type:Se.COMPOS,key:t,key_name:t.join("+")})}i.coreEventer.emit(Be.AddConfirmTrigger,e)}},this.onCancelTouch=function(){i.coreEventer.emit(Be.AddCancelTrigger)},this.core=t,this.coreEventer=t.evt,this.list=n,this.sl=this.$list(Ae.Single),this.cl=this.$list(Ae.Compos),this.render()}),[{key:"render",value:function(){this.$ele=Qe.div.class("vg-pad-e-add").append(Qe.div.class("vg-pad-e-add-modal").append(this.$header(),this.$content(this.mode),this.$footer()))}},{key:"$header",value:function(){var e=this;return Qe.div.class("vg-pad-e-add-modal-header").append(Qe.div.append(Qe.div.class("vg-pad-e-add-modal-header-button").text("单击按键").ref(this.refs.ts).event("touchstart",(function(){e.onTabSwitch(Ae.Single)})),Qe.div.class("vg-pad-e-add-modal-header-button").text("组合按键").ref(this.refs.tc).event("touchstart",(function(){e.onTabSwitch(Ae.Compos)}))).mounted((function(){e.refs.ts.addClass("vg-pad-e-add-modal-header-checked")})),Qe.div.html('<svg class="ve-gamepad-noevts" width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M7.11542 0.169235L7.83042 0.884233C8.05607 1.10988 8.05607 1.47573 7.83042 1.70137L5.53153 3.99986L7.83042 6.29863C8.05607 6.52427 8.05607 6.89012 7.83042 7.11577L7.11542 7.83076C6.88977 8.05641 6.52393 8.05641 6.29828 7.83076L3.9989 5.53104L1.70186 7.82993C1.47622 8.05558 1.11037 8.05558 0.884722 7.82993L0.169724 7.11493C-0.0559235 6.88928 -0.0559235 6.52344 0.169724 6.29779L2.46627 3.99986L0.169724 1.70221C-0.0559235 1.47656 -0.0559235 1.11072 0.169724 0.885069L0.884722 0.17007C1.11037 -0.055577 1.47622 -0.055577 1.70186 0.17007L3.9989 2.46723L6.29828 0.169235C6.52393 -0.0564118 6.88977 -0.0564118 7.11542 0.169235Z" fill="white"/>\n</svg>').event("touchstart",this.onCancelTouch))}},{key:"$content",value:function(e){var t=e===Ae.Single?this.sl:this.cl;return Qe.div.ref(this.refs.tab).class("vg-pad-e-add-modal-content").append(t)}},{key:"$footer",value:function(){return Qe.div.class("vg-pad-e-add-modal-footer").append(Qe.span.text("已在界面中的按键将不能再被新建"),Qe.div.append(Qe.div.class("vg-pad-e-add-modal-footer-cancel").text("取消").event("touchstart",this.onCancelTouch),Qe.div.class("vg-pad-e-add-modal-footer-confirm vg-pad-e-add-modal-footer-disable").ref(this.refs.confirm).text("确定").event("touchstart",this.onConfirmTouch)))}},{key:"$list",value:function(e){var t,n=this;if(e===Ae.Single&&0===this.list.length)return[this.$empty()];t=e===Ae.Compos?Oe.map((function(e){return Pe[e]})):this.list.map((function(e){return Pe[e.key[0]]}));var i={UP:[14,20],DOWN:[14,20],LEFT:[20,14],RIGHT:[20,14]};return t.map((function(t){var r=Qe.div.class("vg-pad-e-add-modal-content-item"),o=t.key[0];return["UP","DOWN","LEFT","RIGHT"].includes(o)?r.append(Qe.div.class("vg-pad-key").style({width:"".concat(i[o][0],"px"),height:"".concat(i[o][1],"px")}).append(Qe.div.class("vg-pad-svg").html(et(o))).data("config",{key:[o]})):r.append(st(n.core,t,Le.Display)),r.event("touchstart",(function(){var t,i=r.toggleClass("vg-pad-e-add-modal-content-checked"),o=r.child(0).data("config"),a=o.key;i?e===Ae.Single?(null===(t=n.$sk)||void 0===t||t.removeClass("vg-pad-e-add-modal-content-checked"),n.singleCandidate=o,n.$sk=r):n.composCandidate.add(a[0]):e===Ae.Single?n.$sk===r&&(n.$sk=null,n.singleCandidate=null):n.composCandidate.delete(a[0]);n.judgeConfirm()?n.refs.confirm.removeClass("vg-pad-e-add-modal-footer-disable"):n.refs.confirm.hasClass("vg-pad-e-add-modal-footer-disable")||n.refs.confirm.addClass("vg-pad-e-add-modal-footer-disable")})),r}))}},{key:"$empty",value:function(){return Qe.div.class("vg-pad-e-addModal-content-allused").append(Qe.p.text("按键已全部使用，暂无可新增按键"),Qe.p.text("您可以在组合按键中新增"))}},{key:"judgeConfirm",value:function(){return!(this.mode===Ae.Single&&!this.singleCandidate)&&!(this.mode===Ae.Compos&&this.composCandidate.size<2)}},{key:"onTabSwitch",value:function(e){if(this.mode!==e){var t,n;if(this.refs.ts.toggleClass("vg-pad-e-add-modal-header-checked"),this.refs.tc.toggleClass("vg-pad-e-add-modal-header-checked"),this.refs.tab.html(""),e===Ae.Single)(t=this.refs.tab).append.apply(t,p(this.sl));else(n=this.refs.tab).append.apply(n,p(this.cl));this.mode=e}}},{key:"destroy",value:function(){this.$ele.remove()}}])}();var ct=function(){return a((function e(t,n,i){r(this,e),this.refs=Ye("t","v","f","input"),this.core=t,this.keyConfig=n.data("config"),this.$k=n,this.showTips=i,this.render()}),[{key:"render",value:function(){var e=this,t=this.keyConfig.type;this.$ele=Qe.div.class("vg-pad-e-size").append(Qe.div.class("vg-pad-e-size-bar vg-pad-e-bar").append(this.renderNameTips(Re.includes(t)),Qe.div.append(Qe.div.text("按键大小"),this.renderSlider()).style("margin","0 30px"),Qe.div.append(Qe.div.class("vg-pad-e-button vg-pad-e-size-bar-del").text("删除").event("touchstart",(function(){e.core.evt.emit(Be.KeyDelTrigger)})),Qe.div.class("vg-pad-e-button").text("确定").event("touchstart",(function(){e.core.evt.emit(Be.KeyConfirmTrigger)})))))}},{key:"renderNameTips",value:function(e){var t=this,n=this.getKeyName(this.$k);return e?Qe.div.append(Qe.div.text("按键文字"),Qe.div.class("vg-pad-e-size-bar-name").text(n).ref(this.refs.input).event("touchstart",(function(){t.renderInput()}))):Qe.span.text("该按键不支持编辑文字").style({color:"rgba(255, 255, 255, 0.5)"})}},{key:"renderSlider",value:function(){var e,t=this,n=120,i=this.keyConfig.type,r=this.core.needRotate,o=this.$k.el.getBoundingClientRect(),a=o.width,s=o.height,l=r?s:a,c=Pe[Te[i]],d=c.width,u=c.height,h=n*(l/d-.5);return Qe.div.class("vg-pad-e-size-bar-slider").style("width","".concat(n,"px")).append(Qe.div.ref(this.refs.t).class("vg-pad-e-size-bar-slider-track"),Qe.div.ref(this.refs.v).class("vg-pad-e-size-bar-slider-value").style("width","".concat(h,"px")),Qe.div.class("vg-pad-e-size-bar-slider-mark").append(Array(3).fill(0).map((function(e){return Qe.div}))),Qe.div.ref(this.refs.f).class("vg-pad-e-size-bar-slider-float").event({touchmove:function(i){i.preventDefault(),e||(e={trackLeft:t.refs.t.el.getBoundingClientRect().x,trackTop:t.refs.t.el.getBoundingClientRect().y});var o=i.targetTouches[0],a=o.clientX,s=o.clientY,l=e,c=l.trackLeft,h=l.trackTop,p=r?s-h:a-c,f=De(0,n,p),y=De(0,110,p-5);t.refs.v.style("width","".concat(f,"px")),t.refs.f.style("left","".concat(y,"px"));var v=Number(((f+60)/n).toFixed(2));v>=.1&&v<=2&&(t.$k.el.style.width="".concat(d*v,"px"),t.$k.el.style.height="".concat(u*v,"px"))}}).style("left","".concat(De(0,110,h-5),"px")))}},{key:"renderInput",value:function(){var e=this,t=Ye("input"),n=this.getKeyName(this.$k),i=this.core.needRotate,r=Qe.div.class("vg-pad-e-size-input vg-pad-center").append(Qe.div.class("vg-pad-e-size-input-wrapper").append(Qe.input.ref(t.input).class("vg-pad-e-size-input-text").value(n),Qe.span.text("确定").event("touchstart",(function(){var n=t.input.value();e.refs.input.text(n),r.remove(),e.changeKeyName(n)})))).mounted((function(e){return setTimeout((function(){e.el.focus()}),0)}));i&&r.child(0).addClass("vg-pad-e-size-input-rotate"),this.$ele.append(r)}},{key:"getKeyName",value:function(e){var t=e.data("config"),n=t.key_name,i=t.key;return n||i[0]}},{key:"changeKeyName",value:function(e){this.$k.data("config").key_name=e,this.$k.data("config").show_tips=this.showTips,this.$k.child(1).text(e)}}])}();var dt='<svg width="6" height="6" viewBox="0 0 6 6" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M2.625 0C2.41789 0 2.25 0.167893 2.25 0.375V2.25H0.375C0.167893 2.25 0 2.41789 0 2.625V3.375C0 3.58211 0.167893 3.75 0.375 3.75H2.25V5.625C2.25 5.83211 2.41789 6 2.625 6H3.375C3.58211 6 3.75 5.83211 3.75 5.625V3.75H5.625C5.83211 3.75 6 3.58211 6 3.375V2.625C6 2.41789 5.83211 2.25 5.625 2.25H3.75V0.375C3.75 0.167893 3.58211 0 3.375 0H2.625Z" fill="white"/>\n    </svg>',ut='<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.09505 0C7.36072 0 7.61548 0.105723 7.80309 0.293837L9.70805 2.20388C9.89501 2.39134 10 2.64529 10 2.91004V9.5C10 9.77614 9.77614 10 9.5 10H0.5C0.223858 10 0 9.77614 0 9.5V0.5C0 0.223858 0.223858 0 0.5 0H7.09505ZM2 1H1V9H9V3.2075C9 3.07515 8.94752 2.94819 8.85407 2.85447L7.15157 1.14697C7.05776 1.05288 6.93036 1 6.7975 1H6.75V4.5C6.75 4.77614 6.52614 5 6.25 5H2.5C2.22386 5 2 4.77614 2 4.5V1ZM5.75 1H3V4H3.99975L4 2.5C4 2.36193 4.11193 2.25 4.25 2.25H4.75C4.88807 2.25 5 2.36193 5 2.5V4H5.75V1Z" fill="white"/>\n</svg>',ht=function(){return a((function e(t,n){var i=this;r(this,e),this.refs=Ye("s"),this.onAlphaTouch=function(){i.$alpha?(i.$alpha.remove(),i.$alpha=null):i.renderAlpha(i.core.keyOpacity)},this.action=function(e,t){return function(){i.coreEventer.emit(e,t)}},this.core=t,this.coreEventer=t.evt,this.showTips=n,this.render()}),[{key:"render",value:function(){this.$ele=Qe.div.class("vg-pad-e-tool"),this.renderMenu()}},{key:"renderMenu",value:function(){var e=this,t=Qe.div.class("vg-pad-e-tool-menu vg-pad-e-bar").append(Qe.div.append(Qe.div.class("vg-pad-e-tool-menu-button").html("".concat(dt).concat(Qe.span.text("添加按钮").outerHtml())).event("touchstart",this.action(Be.AddTrigger)),Qe.div.class("vg-pad-e-tool-menu-button").text("透明度").event("touchstart",this.onAlphaTouch),Qe.div.class("vg-pad-e-tool-menu-button").text("恢复默认").event("touchstart",this.action(Be.RecoverTrigger)),Qe.div.ref(this.refs.s).class("vg-pad-e-tool-menu-button").text("".concat(this.showTips?"隐藏":"显示","原按键名")).event("touchstart",(function(){e.showTips=!e.showTips,e.refs.s.text("".concat(e.showTips?"隐藏":"显示","原按键名")),e.coreEventer.emit(Be.KeyTipsTrigger,e.showTips)}))),Qe.div.append(Qe.span.text("取消").event("touchstart",this.action(Be.CancelTrigger)),Qe.div.class("vg-pad-e-tool-menu-save").html("".concat(ut).concat(Qe.span.text("保存").outerHtml())).event("touchstart",this.action(Be.SaveTrigger))));return this.$ele.append(t),t}},{key:"renderBubble",value:function(){var e=this,t=Qe.div.class("vg-pad-e-tool-bubble").append(Qe.div.class("vg-pad-e-tool-bubble-triangle"),Qe.p.text("点击按键选中即可进行自定义编辑拖动"),Qe.p.text("拖动可改变按键位置")).mounted((function(){var t;document.addEventListener("touchstart",t=function(){e.removeBubble(),document.removeEventListener("touchstart",t)})}));return this.$bubble=t,this.$ele.append(t),t}},{key:"renderAlpha",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=Ye("t","v","f"),r=320*n-64,o=De(0,246,r-5),a=Qe.div.class("vg-pad-e-tool-alpha").append(Qe.div.class("vg-pad-e-tool-alpha-slider").style("width","".concat(256,"px")).append(Qe.div.ref(i.t).class("vg-pad-e-tool-alpha-slider-track"),Qe.div.ref(i.v).class("vg-pad-e-tool-alpha-slider-value").style({width:"".concat(r,"px")}),Qe.div.class("vg-pad-e-tool-alpha-slider-mark").append(Array(5).fill(0).map((function(e){return Qe.div}))),Qe.div.ref(i.f).class("vg-pad-e-tool-alpha-slider-float").style({left:"".concat(o,"px")}).event({touchmove:function(n){if(n.preventDefault(),!e){var r=i.t.el.getBoundingClientRect();e={trackLeft:r.x,trackTop:r.y}}var o=n.targetTouches[0],a=o.clientX,s=o.clientY,l=e,c=l.trackLeft,d=l.trackTop,u=De(0,256,t.core.needRotate?s-d:a-c),h=Math.min(Number(((u+64)/320).toFixed(2)),1),p=De(0,244,u-5);i.v.style({width:"".concat(u,"px")}),i.f.style({left:"".concat(p,"px")}),h<=1&&h>=.2&&t.coreEventer.emit(Be.AlphaChange,h)},touchend:function(){}})),Qe.div.class("vg-pad-e-tool-alpha-number").append([20,40,60,80,100].map((function(e){return Qe.span.text("".concat(e,"%"))}))));this.$alpha=a,this.$ele.append(a)}},{key:"removeBubble",value:function(){this.$bubble.remove(),this.$bubble=null}}])}();var pt=function(){return a((function e(t,n){var i=this;if(r(this,e),this.keyOpacity=1,this.needRotate=!0,this.layoutInfo={width:0,height:0,top:0,left:0,bottom:0,right:0},this._evt=we(),this.$keysList=new Set,this.$editDoms={toolbar:null,alphabar:null,sizeModal:null,addModal:null},this.showTipsGlobal=!1,this.config=Ue,this.isVisible=!1,this.opState={buttons:{},L:{x:0,y:0},R:{x:0,y:0},LT:!1,RT:!1},this.fingers={moving:0,total:0,keySet:new Set},this.configMap={},this.edit=!1,this.padIndex=0,this.allowTouch=!1,this.vibrateParams={mode:ke.InGame,enable:!0,frequency:[100],supported:!(!navigator.vibrate||"function"!=typeof navigator.vibrate)},this.last=-1,this.moveInterval=10,this.debug=!1,this.onGamepadVibrate=function(e){i.emit("gamepad-vibrate",e);var t=i.vibrateParams.mode;t!==ke.InGame&&t!==ke.GameAndTouch||i.padVibrate()},this.onVisibilitychange=function(){i.edit||"visible"===document.visibilityState&&(i.resetKeysUI(),i.clearPlayingState(),i.sendMessage())},this.onOrientationchange=function(){i.isVisible&&setTimeout((function(){i.edit&&i.exitEdit(),i.render()}),50)},we(this),null!=n&&n.debug)this.debug=!0,He("Debug Mode");else if(!t||!t.client||!t.client.isPlaying)throw Error("Init gamepad failed, veGame SDK isn't ready!");this.$container=document.getElementById((null==n?void 0:n.domId)||(null==t?void 0:t.domId)),this._veGame=t,this.registerGolobalEvents(!0),this.initInnterEvents()}),[{key:"evt",get:function(){return this._evt}},{key:"initInnterEvents",value:function(){var e=this;this._evt.on(Be.AddTrigger,(function(){e.editAdd()})),this._evt.on(Be.RecoverTrigger,(function(){e.editRestore()})),this._evt.on(Be.SaveTrigger,(function(){e.editSave()})),this._evt.on(Be.CancelTrigger,(function(){e.editCancel()})),this._evt.on(Be.KeyTipsTrigger,(function(t){e.toggleTips(t)})),this._evt.on(Be.AlphaChange,(function(t){e.setKeyOpacity(t)})),this._evt.on(Be.AddCancelTrigger,(function(){e.edit_modal_cancel()})),this._evt.on(Be.AddConfirmTrigger,(function(t){e.$editDoms.addModal.destroy(),e.$editDoms.addModal=null,e.showToolbar(),e.addKey2Screen(t)})),this._evt.on(Be.ChooseKey,(function(t){var n;t!==e.$editKey&&(e.$editKey=t,null===(n=e.$editDoms.toolbar)||void 0===n||n.remove(),e.showSizebar(t))})),this._evt.on(Be.KeyDelTrigger,(function(){e.deleteKey(e.$editKey)})),this._evt.on(Be.KeyConfirmTrigger,(function(){var t;null===(t=e.$editDoms.sizeModal)||void 0===t||t.remove(),e.showToolbar()})),this._evt.on(Be.PadState,(function(t){e.padKeyTrigger(t)}))}},{key:"padKeyTrigger",value:function(e){var t=e.key,n=e.type,i=e.operation,r=e.value,o=this.vibrateParams.mode;this.flushPadState({key:t,type:n,operation:i,value:r}),i===Ge.KeyDown&&(o!==ke.InTouch&&o!==ke.GameAndTouch||this.padVibrate())}},{key:"toggleTips",value:function(e){e!==this.showTipsGlobal&&(this.showTipsGlobal=e,this.edit&&this.getPadKeyInBox(this.$editBox).forEach((function(t){var n=t.data("config"),i=n.key,r=n.key_name,o=n.type;if(Re.includes(o)){var a,s=i.join("+");if(n.show_tips=e,e&&r!==s&&t.append(Qe.span.text(s).class("vg-pad-key-tips")),!e&&r!==s)null===(a=t.child(2))||void 0===a||a.remove()}})))}},{key:"deleteKey",value:function(e){var t;null===(t=this.$editDoms.sizeModal)||void 0===t||t.remove(),this.$editDoms.sizeModal=null,this.$keysList.delete(e),e.remove(),this.showToolbar()}},{key:"getPadKeyInBox",value:function(e){return e.children().filter((function(e){return e.hasClass("vg-pad-key")}))}},{key:"flushPadState",value:function(e){var t=this,n=e.key,i=e.type,r=e.operation,o=e.value;switch(i){case Se.JoystickLeft:case Se.JoystickRight:this.opState[n]=o;break;case Se.LT:case Se.RT:this.opState[n]=r===Ge.KeyDown;break;default:n.forEach((function(e){t.opState.buttons[e]=r===Ge.KeyDown?Ee[Ce[e]]:0}))}this.sendMessage()}},{key:"sendMessage",value:function(){var e,t,n=Object.values(this.opState.buttons).reduce((function(e,t){return e|t}),0),i={index:this.padIndex,buttons:n,lt:this.opState.LT?255:0,rt:this.opState.RT?255:0,lx:Math.floor(32767*this.opState.L.x)||0,ly:Math.floor(32767*this.opState.L.y)||0,rx:Math.floor(32767*this.opState.R.x)||0,ry:Math.floor(32767*this.opState.R.y)||0};this.debug&&He("".concat(Date.now()),"msg payload",JSON.stringify(i)),null===(e=this._veGame)||void 0===e||null===(t=e._sendGamePadPbMessage)||void 0===t||t.call(e,i)}},{key:"showSizebar",value:function(e){this.$editDoms.sizeModal&&this.$editDoms.sizeModal.remove();var t=function(e,t,n){return new ct(e,t,n).$ele}(this,e,this.showTipsGlobal);this.$editBox.append(t),this.$editDoms.sizeModal=t}},{key:"registerGolobalEvents",value:function(e){e?(window.addEventListener("orientationchange",this.onOrientationchange),document.addEventListener("visibilitychange",this.onVisibilitychange),this._veGame.on("gamepad-vibrate",this.onGamepadVibrate)):(window.removeEventListener("orientationchange",this.onOrientationchange),document.removeEventListener("visibilitychange",this.onVisibilitychange),this._veGame.off("gamepad-vibrate",this.onGamepadVibrate))}},{key:"padVibrate",value:function(){var e=this.vibrateParams,t=e.enable,n=e.frequency;if(e.supported&&t&&!this.edit)try{navigator.vibrate(n)}catch(i){console.warn("Pad vibrate failed:",null==i?void 0:i.message)}}},{key:"clearPlayingState",value:function(){this.opState={buttons:{},L:{x:0,y:0},R:{x:0,y:0},RT:!1,LT:!1},this.fingers.moving=0,this.fingers.total=0,this.fingers.keySet.clear()}},{key:"initShowTipsGlobal",value:function(){for(var e=!1,t=0;t++;t<this.config.length){var n=this.config[t],i=n.type,r=n.show_tips;if(Re.includes(i)&&!0===r){e=!0;break}}return e}},{key:"preResolveConfig",value:function(){var e;null===(e=this.config)||void 0===e||e.forEach((function(e){var t;void 0===e.key_name&&Re.includes(e.type)&&(e.key_name=null===(t=e.key)||void 0===t?void 0:t[0])}))}},{key:"preRender",value:function(){var e=this.$container.clientWidth,t=this.$container.clientHeight;this.debug&&He("容器宽高",e,t);var n=window.orientation;90===n||-90===n?this.needRotate=!1:n||(this.needRotate=t>e),this.layoutInfo.width=Math.max(e,t),this.layoutInfo.height=Math.min(e,t),this.debug&&He("GamePad宽高",this.layoutInfo.width,this.layoutInfo.height,"need_rotation:",this.needRotate),this.showTipsGlobal=this.initShowTipsGlobal(),this.preResolveConfig()}},{key:"render",value:function(){var e;this.debug&&He("- start render -"),this.preRender(),this.$ele||(this.$ele=Qe.div.class("ve-gamepad ve-gamepad-noevts"));var t=this.layoutInfo,n=t.height,i=t.width;this.$ele.html("").style({display:"",width:"".concat(i,"px"),height:"".concat(n,"px")}),this.needRotate?this.$ele.el.style.transform="rotate(90deg) translate(".concat(Math.abs(i-n)/2,"px, ").concat(Math.abs(i-n)/2,"px)"):this.$ele.style("transform",""),this.renderPlay(),null===(e=this.$container)||void 0===e||e.appendChild(this.$ele.el),this.postRender(),this.debug&&He("- render end -")}},{key:"postRender",value:function(){var e=this.$ele.el.getBoundingClientRect(),t=e.top,n=e.left,i=e.right,r=e.bottom;Object.assign(this.layoutInfo,{top:t,left:n,right:i,bottom:r}),this.allowTouch&&this.$playingBox.removeClass("ve-gamepad-evts")}},{key:"renderPlay",value:function(){this.$playingBox=Qe.div.class("vg-pad-p ve-gamepad-evts"),this.renderKeys(this.$playingBox,this.config),this.$ele.append(this.$playingBox)}},{key:"renderKeys",value:function(e,t){var n=this;e.html(""),this.$keysList.clear();var i=this.edit?Le.Edit:Le.Play;t.forEach((function(t){var r=st(n,t,i);n.$keysList.add(r),e.append(r)}))}},{key:"resetKeysUI",value:function(){}},{key:"getKeyEleConfig",value:function(e){var t=e.data("config"),n=t.key,i=t.type;t.nameable;var r=t.key_name;t.show_tips;var o={alpha:this.keyOpacity,rotate:0,key:n,type:i,nameable:Re.includes(i),show_tips:this.showTipsGlobal,key_name:r},a=Ke(e.el,this.$editBox.el,this.needRotate),s=a.width,l=a.height,c=a.top,d=a.left,u=a.bottom,h=a.right;return Object.assign(o,{width:s,height:l}),d+s/2<this.layoutInfo.width/2?(o.x_base=0,o.coordinate_x=d+s/2):(o.x_base=1,o.coordinate_x=h+s/2),c+l/2<this.layoutInfo.height/2?(o.y_base=0,o.coordinate_y=c+l/2):(o.y_base=1,o.coordinate_y=u+l/2),o}},{key:"setKeyOpacity",value:function(e){this.keyOpacity=e,Array.from(this.$keysList.values()).forEach((function(t){t.style("opacity",e)}))}},{key:"showToolbar",value:function(){var e;this.$editDoms.toolbar&&(this.$editDoms.toolbar.remove(),null===(e=this.$editDoms.alphabar)||void 0===e||e.remove());var t,n,i=this.$editDoms.toolbar=(t=this,n=this.showTipsGlobal,new ht(t,n)).$ele;this.$editBox.append(i)}},{key:"editAdd",value:function(){this.$editDoms.toolbar.style({display:"none"});var e=this.$editBox.children().filter((function(e){return e.hasClass("vg-pad-key")})).map((function(e){return e.data("config").type})),t=Ue.filter((function(t){return!e.includes(t.type)})),n=this.$editDoms.addModal=new lt(this,t);this.$editDoms.addModal=n,this.$editBox.append(n.$ele)}},{key:"edit_modal_cancel",value:function(){this.$editDoms.addModal.destroy(),this.$editDoms.addModal=null,this.showToolbar()}},{key:"addKey2Screen",value:function(e){console.log(e);var t=this.layoutInfo,n=t.width,i=t.height;Object.assign(e,{alpha:this.keyOpacity,x_base:0,y_base:0,coordinate_x:n/2,coordinate_y:i/2,show_tips:this.showTipsGlobal});var r=st(this,e,Le.Edit);return this.$keysList.add(r),this.$editBox.append(r),r}},{key:"editRestore",value:function(){this.renderKeys(this.$editBox,this.config),this.showToolbar(),this.emit("restore-default")}},{key:"editCancel",value:function(){this.exitEdit(),this.renderPlay(),this.emit("cancel-edit")}},{key:"editSave",value:function(){var e=this,t=this.getPadKeyInBox(this.$editBox),n=[];t.forEach((function(t){return n.push(e.getKeyEleConfig(t))})),this.config=n,this.exitEdit(),this.renderPlay(),this.emit("save-config",{config:JSON.stringify(this.config)})}},{key:"exitEdit",value:function(){var e;this.edit=!1,this.$editBox.remove(),this.$editBox=null,this.$editDoms={},this.$editKey=null,this.keyOpacity=(null===(e=this.config[0])||void 0===e?void 0:e.alpha)||1}},{key:"_setAllowTouch",value:function(e){this.edit||this.allowTouch!==e&&(this.allowTouch=e,this.$playingBox.toggleClass("ve-gamepad-evts"))}},{key:"_enableVibrate",value:function(e){this.vibrateParams.enable=e}},{key:"_setVibrateMode",value:function(e){this.vibrateParams.mode=e}},{key:"_setVibrateFrequency",value:function(e){this.vibrateParams.frequency=e}},{key:"_show",value:function(e){e&&(this.configMap[e]?this.config=this.configMap[e]:this.debug&&He("Current mappingId:".concat(e," not found. Use default config"))),this.render(),this.isVisible=!0}},{key:"_refreshGamePadLayoutWithConfig",value:function(e){if(!this.edit)try{this.config=JSON.parse(e),this.render()}catch(t){throw Error(t.message)}}},{key:"_startModifyGamePadLayout",value:function(){if(!this.edit&&this.$playingBox){this.edit=!0,this.$playingBox.remove();var e=this.$editBox=Qe.div.class("vg-pad-e ve-gamepad-evts");this.$editBox.style({display:"block"}),this.renderKeys(e,this.config),this.$ele.append(e),this.showToolbar(),this.emit("start-edit")}}},{key:"_exportGamePadConfig",value:function(){return JSON.stringify(this.config)}},{key:"_getGamePadConfig",value:(e=d().mark((function e(t,n,i){var r,o,a=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,e.prev=1,e.next=4,Fe(t,n,i);case 4:return r=e.sent,this.configMap={},r.forEach((function(e){a.configMap[e.key_mapping_id]=JSON.parse(e.key_mapping_config).keys})),e.abrupt("return",{gameId:t,mappingList:r.map((function(e){return e.key_mapping_id}))});case 10:return e.prev=10,e.t0=e.catch(1),o={message:(null===e.t0||void 0===e.t0?void 0:e.t0.message)||"",errorCode:null===e.t0||void 0===e.t0?void 0:e.t0.errorCode},e.abrupt("return",Promise.reject(o));case 14:case"end":return e.stop()}}),e,this,[[1,10]])})),t=function(){var t=this,i=arguments;return new Promise((function(r,o){var a=e.apply(t,i);function s(e){n(a,r,o,s,l,"next",e)}function l(e){n(a,r,o,s,l,"throw",e)}s(void 0)}))},function(e,n,i){return t.apply(this,arguments)})},{key:"_release",value:function(){this.$ele&&(this.registerGolobalEvents(!1),this.$ele.remove(),this.$ele=null,this.isVisible=!1,this.fingers=null)}},{key:"_setTouchMoveInterval",value:function(e){this.moveInterval=e}}]);var e,t}(),ft=function(e){function t(){return r(this,t),i(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),a(t,[{key:"startModifyGamePadLayout",value:function(){return this._startModifyGamePadLayout()}},{key:"refreshGamePadLayoutWithConfig",value:function(e){return this._refreshGamePadLayoutWithConfig(e)}},{key:"exportGamePadConfig",value:function(){return this._exportGamePadConfig()}},{key:"getGamePadConfig",value:function(e,t,n){return this._getGamePadConfig(e,t,n)}},{key:"show",value:function(e){return this._show(e)}},{key:"release",value:function(){return this._release()}},{key:"enableTouch",value:function(e){return this._setAllowTouch(e)}},{key:"enableVibrate",value:function(e){return this._enableVibrate(e)}},{key:"setVibrateMode",value:function(e){return this._setVibrateMode(e)}},{key:"setVibrateFrequency",value:function(e){return this._setVibrateFrequency(e)}}])}(pt);return ft}));
//# sourceMappingURL=index.umd.min.js.map
