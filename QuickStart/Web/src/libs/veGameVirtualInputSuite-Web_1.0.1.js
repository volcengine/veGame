!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).veGameVirtualInputSuite=t()}(this,(function(){"use strict";var e=document.createElement("style");function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function n(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach((function(t){l(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function i(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,i(o.key),o)}}function a(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return d(this,n)}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,s,a=[],l=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=r.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(u){c=!0,o=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw o}}return a}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function y(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}e.textContent=".vg-vis-btn{height:28px;padding:4px 15px;border-radius:4px;box-sizing:border-box;border:1px solid #FFFFFF12;background:#FFFFFF0D;box-shadow:0 2px 4px #00000040;display:flex;justify-content:center;align-items:center}.vg-vis-btn>span{margin-left:4px}.vg-vis-btn-save{background-color:#00c8d2bf;padding:3px 8px}.vg-vis-close{position:absolute;right:0;top:0;width:16px;height:16px;border-radius:999px;background-color:#42464e;display:flex;justify-content:center;align-items:center}.vg-vis-keyTips{line-height:14px;font-weight:500;text-align:center;margin-top:4px}.vg-vis-keyRocker{box-sizing:border-box;position:relative;width:124px;height:124px;border-radius:999px;border:1px solid #2A313980;background:linear-gradient(180deg,rgba(18,24,32,.6) 0%,rgba(43,53,63,.6) 100%);display:flex;justify-content:center;align-items:center}.vg-vis-keyRocker-ic{width:50%;height:50%;border:1px solid #2A313980;border-radius:999px;background:linear-gradient(180deg,rgba(0,0,0,.1) 0%,rgba(0,0,0,.4) 49.37%,rgba(0,0,0,.1) 100%)}.vg-vis-keyRocker-kw{pointer-events:none;font-weight:600;width:100%;height:100%;position:absolute;display:flex;flex-direction:column}.vg-vis-keyRocker-kw>:first-child{height:25%;display:flex;justify-content:center;align-items:center}.vg-vis-keyRocker-kw>:nth-child(2){height:50%;display:flex;align-items:center;justify-content:space-between}.vg-vis-keyRocker-kw>:nth-child(2)>span{width:25%;text-align:center}.vg-vis-keyRocker-kw>:last-child{height:25%;display:flex;justify-content:center;align-items:center}.vg-vis-vk{width:100%;max-width:900px;display:flex;flex-direction:column;gap:4px}.vg-vis-vk-line{display:flex;position:relative;width:100%;gap:4px}.vg-vis-vk-sk{color:#dadce0;position:relative;box-sizing:border-box;background-color:#2a313999;border:.5px solid #FFFFFF1A;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-align:center;height:32px;font-weight:500;cursor:pointer;overflow:hidden;display:flex;justify-content:center;align-items:center}.vg-vis-vk-sk path{fill:#dadce0}.vg-vis-key-base{box-sizing:border-box;color:#dadce0;font-weight:600;border:1px solid #2A313980;background:linear-gradient(180deg,rgba(18,24,32,.6) 0%,rgba(43,53,63,.6) 100%);border-radius:999px;overflow:hidden;display:flex;justify-content:center;align-items:center}.vg-vis-key-rocker{position:relative}.vg-vis-key-rocker-ic{position:absolute;width:50%;height:50%;border:1px solid #2A313980;border-radius:999px;background:linear-gradient(180deg,rgba(0,0,0,.1) 0%,rgba(0,0,0,.4) 49.37%,rgba(0,0,0,.1) 100%)}.vg-vis-key-rocker-kw{pointer-events:none;font-weight:600;width:100%;height:100%;position:absolute;display:flex;flex-direction:column}.vg-vis-key-rocker-kw>:first-child{height:25%;display:flex;justify-content:center;align-items:center}.vg-vis-key-rocker-kw>:nth-child(2){height:50%;display:flex;align-items:center;justify-content:space-between}.vg-vis-key-rocker-kw>:nth-child(2)>span{width:25%;text-align:center}.vg-vis-key-rocker-kw>:last-child{height:25%;display:flex;justify-content:center;align-items:center}.vg-vis-key-cross{position:relative;font-weight:600;color:#dadce0;display:flex;justify-content:center;align-items:center}.vg-vis-key-cross>div{position:absolute;display:flex;justify-content:space-between}.vg-vis-key-cross>div>div{display:flex;justify-content:center;align-items:center}.vg-vis-key-cross>div>div>:last-child{position:absolute}.vg-vis-key-cross>div:first-child{height:100%;flex-direction:column}.vg-vis-key-cross>div:last-child{width:100%;flex-direction:row}.vg-vis-key-active{border-color:#00c8d2}.vg-vis-key-selected,.vg-vis-key-unavailable{opacity:.3}.vg-vis-key-svg{pointer-events:none;display:flex}.vg-vis-evt{pointer-events:auto}.vg-vis-noevt{pointer-events:none}.vg-vis-key-scale{transform:scale(.322);transform-origin:left top}.vg-vis{position:absolute;box-sizing:border-box;font-family:PingFang SC;z-index:2;overflow:hidden;top:0;left:0;font-size:12px;font-weight:400;line-height:20px;letter-spacing:.003em;color:#fff}.vg-vis-p{position:relative;width:100%;height:100%;overflow:hidden}.vg-vis-e{position:relative;width:100%;height:100%;background-color:transparent;pointer-events:auto}.vg-vis-e-t{box-sizing:border-box;height:44px;padding:0 8px;max-width:378px;margin:0 auto;position:relative;z-index:1;border-radius:0 0 8px 8px;background-color:#080f21a6;display:flex;align-items:center;justify-content:space-evenly;box-shadow:0 4px 20px #00000040}.vg-vis-e-k{position:relative;z-index:1;box-sizing:border-box;max-width:558px;height:44px;margin:0 auto;padding:0 16px;border-radius:0 0 8px 8px;background:rgba(8,15,33,.65);display:flex;align-items:center;box-shadow:0 4px 20px #00000040}.vg-vis-e-k-name{height:28px;padding-left:12px;border-radius:14px;background-color:#0c0d0e33;border:1px solid #00000033;margin-left:8px;margin-right:30px;display:flex;align-items:center;flex-grow:1;max-width:92px;overflow:hidden;box-sizing:border-box}.vg-vis-e-k-del{color:#ff706d;background:#EE3F3833;border:1px solid #FFA3A080;margin-left:40px;margin-right:8px}.vg-vis-e-am{position:relative;z-index:1;width:100%;height:100%;display:flex;flex-direction:column;justify-content:space-between}.vg-vis-e-am-c{box-sizing:border-box;position:relative;z-index:2;height:52px;border-radius:0 0 8px 8px;background-color:#080f21a6;display:flex;align-items:center;box-shadow:0 4px 20px #00000040;margin:0 auto;max-width:600px;min-width:500px;padding:0 16px}.vg-vis-e-am-c-kl{display:flex;align-items:center;justify-content:center;flex:1;margin:0 15px;max-width:300px;overflow:hidden}.vg-vis-e-am-c-add{background-color:#00c8d2bf;padding:3px 8px;margin-left:16px}.vg-vis-e-am-b{position:relative;bottom:0;box-sizing:border-box;width:100%;background-color:#2a313999;border:2px solid #2A31391A;border-radius:8px 8px 0 0;padding:12px}.vg-vis-e-am-b-t{height:24px;font-size:14px;color:#bdc1c6;margin-bottom:16px;gap:24px;display:flex}.vg-vis-e-am-b-at{border-bottom:1.5px solid #00C8D2;color:#fff}.vg-vis-e-am-b-mt{display:none}.vg-vis-e-am-b-mt-ml{display:flex;justify-content:center;align-items:center;gap:32px}.vg-vis-e-am-b-mt-dl{display:flex;justify-content:center;align-items:center;gap:32px;margin-top:40px}.vg-vis-e-am-tips{position:absolute;z-index:1;background-color:#080f21a6;border:1px solid #080F211A;padding:8px 16px;border-radius:4px;top:40%;left:50%;transform:translate(-50%)}.vg-vis-input{width:100%;height:100%;position:absolute;z-index:1;top:0;left:0;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);pointer-events:auto;display:flex;justify-content:center;align-items:center}.vg-vis-input-wrapper{max-width:230px;border:1px solid #00C8D299;display:flex;align-items:center;justify-content:space-between;transform-origin:center;padding:0 8px}.vg-vis-input-text{background-color:transparent;height:36px;border:none;outline:none;margin:0 6px;color:#fff;caret-color:#00c8d2}.vg-vis-input-rotate{transform:rotate(-90deg);transform-origin:center}.vg-vis-slider{position:relative;width:120px;height:18px;display:flex;align-items:center;margin-left:8px}.vg-vis-slider-track{position:absolute;width:100%;height:4px;background-color:#eaedf1}.vg-vis-slider-value{position:absolute;height:4px;background-color:#4281ff}.vg-vis-slider-mark{width:100%;display:flex;justify-content:space-between;pointer-events:none;position:absolute}.vg-vis-slider-mark>div{width:2px;height:8px;border-radius:4px;background-color:#ccced1}.vg-vis-slider-float{position:absolute;width:10px;height:18px;border-radius:4px;border:1px solid #4281FF;background-color:#fff}\n",document.head.appendChild(e);var m,k,x={exports:{}},b={exports:{}},w=function(e){return null!=e},_=w,C={object:!0,function:!0,undefined:!0},F=function(e){return!!_(e)&&hasOwnProperty.call(C,o(e))},M=function(e){if(!F(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch(t){return!1}},L=function(e){if("function"!=typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length)return!1;if("function"!=typeof e.call)return!1;if("function"!=typeof e.apply)return!1}catch(t){return!1}return!M(e)},S=/^\s*class[\s{/}]/,K=Function.prototype.toString;var O,T,I,j,B,U,R,D,A=function(e){return null!=e};function E(){return j?I:(j=1,I=(k?m:(k=1,m=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}))()?Object.keys:function(){if(T)return O;T=1;var e=A,t=Object.keys;return O=function(n){return t(e(n)?Object(n):n)}}())}var $,H,P,G,V="function"==typeof(H=Object.assign)&&(H($={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),$.foo+$.bar+$.trzy==="razdwatrzy")?Object.assign:function(){if(D)return R;D=1;var e=E(),t=function(){if(U)return B;U=1;var e=A;return B=function(t){if(!e(t))throw new TypeError("Cannot use null or undefined");return t}}(),n=Math.max;return R=function(i,o){var r,s,a,l=n(arguments.length,2);for(i=Object(t(i)),a=function(e){try{i[e]=o[e]}catch(t){r||(r=t)}},s=1;s<l;++s)e(o=arguments[s]).forEach(a);if(void 0!==r)throw r;return i},R}(),W=A,z=Array.prototype.forEach,N=Object.create,Z="razdwatrzy";var X="function"==typeof Z.contains&&!0===Z.contains("dwa")&&!1===Z.contains("foo")?String.prototype.contains:function(){if(G)return P;G=1;var e=String.prototype.indexOf;return P=function(t){return e.call(this,t,arguments[1])>-1},P}(),Y=w,q=function(e){return!!L(e)&&!S.test(K.call(e))},J=V,Q=function(e){var t=N(null);return z.call(arguments,(function(e){W(e)&&function(e,t){var n;for(n in e)t[n]=e[n]}(Object(e),t)})),t},ee=X,te=b.exports=function(e,t){var n,i,o,r,s;return arguments.length<2||"string"!=typeof e?(r=t,t=e,e=null):r=arguments[2],Y(e)?(n=ee.call(e,"c"),i=ee.call(e,"e"),o=ee.call(e,"w")):(n=o=!0,i=!1),s={value:t,configurable:n,enumerable:i,writable:o},r?J(Q(r),s):s};te.gs=function(e,t,n){var i,o,r,s;return"string"!=typeof e?(r=n,n=t,t=e,e=null):r=arguments[3],Y(t)?q(t)?Y(n)?q(n)||(r=n,n=void 0):n=void 0:(r=t,t=n=void 0):t=void 0,Y(e)?(i=ee.call(e,"c"),o=ee.call(e,"e")):(i=!0,o=!1),s={get:t,set:n,configurable:i,enumerable:o},r?J(Q(r),s):s};var ne,ie,oe,re,se,ae,le,ce,ue,de,fe,he,pe,ve,ge,ye,me,ke,xe=b.exports;ne=x,ie=x.exports,de=xe,fe=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e},he=Function.prototype.apply,pe=Function.prototype.call,ve=Object.create,ge=Object.defineProperty,ye=Object.defineProperties,me=Object.prototype.hasOwnProperty,ke={configurable:!0,enumerable:!1,writable:!0},re=function(e,t){var n,i;return fe(t),i=this,oe.call(this,e,n=function(){se.call(i,e,n),he.call(t,this,arguments)}),n.__eeOnceListener__=t,this},ae=function(e){var t,n,i,r,s;if(me.call(this,"__ee__")&&(r=this.__ee__[e]))if("object"===o(r)){for(n=arguments.length,s=new Array(n-1),t=1;t<n;++t)s[t-1]=arguments[t];for(r=r.slice(),t=0;i=r[t];++t)he.call(i,this,s)}else switch(arguments.length){case 1:pe.call(r,this);break;case 2:pe.call(r,this,arguments[1]);break;case 3:pe.call(r,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,s=new Array(n-1),t=1;t<n;++t)s[t-1]=arguments[t];he.call(r,this,s)}},le={on:oe=function(e,t){var n;return fe(t),me.call(this,"__ee__")?n=this.__ee__:(n=ke.value=ve(null),ge(this,"__ee__",ke),ke.value=null),n[e]?"object"===o(n[e])?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},once:re,off:se=function(e,t){var n,i,r,s;if(fe(t),!me.call(this,"__ee__"))return this;if(!(n=this.__ee__)[e])return this;if("object"===o(i=n[e]))for(s=0;r=i[s];++s)r!==t&&r.__eeOnceListener__!==t||(2===i.length?n[e]=i[s?0:1]:i.splice(s,1));else i!==t&&i.__eeOnceListener__!==t||delete n[e];return this},emit:ae},ce={on:de(oe),once:de(re),off:de(se),emit:de(ae)},ue=ye({},ce),ne.exports=ie=function(e){return null==e?ve(ue):ye(Object(e),ce)},ie.methods=le;var be,we,_e=y(x.exports),Ce=function(e){return e[e.Down=0]="Down",e[e.Up=1]="Up",e[e.Move=2]="Move",e}(Ce||{}),Fe=function(e){return e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right",e}(Fe||{}),Me=function(e){return e[e.Single=0]="Single",e[e.Combo=1]="Combo",e[e.Rocker=2]="Rocker",e[e.RockerW=3]="RockerW",e[e.Cross=4]="Cross",e[e.CrossW=5]="CrossW",e[e.MouseClickR=6]="MouseClickR",e[e.MouseClickL=7]="MouseClickL",e[e.MouseClickC=8]="MouseClickC",e[e.MouseScrollUp=9]="MouseScrollUp",e[e.MouseScrollDown=10]="MouseScrollDown",e}(Me||{}),Le=function(e){return e[e.Play=0]="Play",e[e.Edit=1]="Edit",e[e.InModal=2]="InModal",e[e.WaitAdd=3]="WaitAdd",e}(Le||{}),Se={Left:"MCL",Center:"MCC",Right:"MCR",ScrollUp:"MSU",ScrollDown:"MSD"},Ke={MCL:0,MCC:1,MCR:2},Oe=["KeyW","KeyA","KeyS","KeyD"],Te=["ArrowUp","ArrowLeft","ArrowDown","ArrowRight"],Ie=(l(be={},0,{width:40,height:40,type:0,modifyDesc:!0}),l(be,1,{width:60,height:40,type:1,modifyDesc:!0}),l(be,8,{key:[Se.Center],width:40,height:40,type:8,desc:"中键",modifyDesc:!1}),l(be,7,{key:[Se.Left],width:40,height:40,type:7,desc:"左键",modifyDesc:!1}),l(be,6,{key:[Se.Right],width:40,height:40,type:6,desc:"右键",modifyDesc:!1}),l(be,9,{key:[Se.ScrollUp],width:40,height:40,type:9,desc:"滑轮上",modifyDesc:!1}),l(be,10,{key:[Se.ScrollDown],width:40,height:40,type:10,desc:"滑轮下",modifyDesc:!1}),l(be,2,{width:124,height:124,key:Te,type:2,desc:"上下左右轮盘",modifyDesc:!1}),l(be,3,{width:124,height:124,key:Oe,type:3,desc:"WASD轮盘",modifyDesc:!1}),l(be,4,{width:124,height:124,key:Te,type:4,desc:"方向按键",modifyDesc:!1}),l(be,5,{width:124,height:124,key:Oe,type:5,desc:"WASD按键",modifyDesc:!1}),be),je={RecoverDefault:"__revocer__",Save:"__save__",Delete:"__del__",Confirm:"__confirm__",AddKey:"__add_key__",AddMode:"__add_mode__",BackTo:"__back__",ModifyKeyName:"__modify_name__",InputKeyName:"__input_key_name__",RockerChange:"__rocker_change__",KeyScale:"__key_scale__"},Be="restore-default",Ue="exit-edit",Re="save-config",De="start-edit",Ae=[3,2],Ee=[5,4],$e=[].concat([7,6,8,9,10],Ae,Ee),He=function(e){return e[e.Single=0]="Single",e[e.Combo=1]="Combo",e}(He||{}),Pe='<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M7.09505 0C7.36072 0 7.61548 0.105723 7.80309 0.293837L9.70805 2.20388C9.89501 2.39134 10 2.64529 10 2.91004V9.5C10 9.77614 9.77614 10 9.5 10H0.5C0.223858 10 0 9.77614 0 9.5V0.5C0 0.223858 0.223858 0 0.5 0H7.09505ZM2 1H1V9H9V3.2075C9 3.07515 8.94752 2.94819 8.85407 2.85447L7.15157 1.14697C7.05776 1.05288 6.93036 1 6.7975 1H6.75V4.5C6.75 4.77614 6.52614 5 6.25 5H2.5C2.22386 5 2 4.77614 2 4.5V1ZM5.75 1H3V4H3.99975L4 2.5C4 2.36193 4.11193 2.25 4.25 2.25H4.75C4.88807 2.25 5 2.36193 5 2.5V4H5.75V1Z" fill="white"/>\n</svg>',Ge='<svg width="6" height="6" viewBox="0 0 6 6" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M2.625 0C2.41789 0 2.25 0.167893 2.25 0.375V2.25H0.375C0.167893 2.25 0 2.41789 0 2.625V3.375C0 3.58211 0.167893 3.75 0.375 3.75H2.25V5.625C2.25 5.83211 2.41789 6 2.625 6H3.375C3.58211 6 3.75 5.83211 3.75 5.625V3.75H5.625C5.83211 3.75 6 3.58211 6 3.375V2.625C6 2.41789 5.83211 2.25 5.625 2.25H3.75V0.375C3.75 0.167893 3.58211 0 3.375 0H2.625Z" fill="white"/>\n</svg>',Ve=(l(we={},Me.MouseClickL,(function(e,t){return'<svg width="'.concat(20*e/40,'" height="').concat(28*t/40,'" viewBox="0 0 20 28" fill="none" xmlns="http://www.w3.org/2000/svg">\n<rect x="1" y="1" width="18" height="26" rx="9" fill="url(#paint0_linear_4421_9340)" fill-opacity="0.5" stroke="url(#paint1_linear_4421_9340)" stroke-width="2"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M11 10V2H9L9 10H2V12H18V10H11Z" fill="#46FFF4" fill-opacity="0.4"/>\n<path d="M9 10V2C5.13401 2 2 5.13401 2 9V10H9Z" fill="#46FFF4"/>\n<defs>\n<linearGradient id="paint0_linear_4421_9340" x1="10" y1="0" x2="10" y2="28" gradientUnits="userSpaceOnUse">\n<stop stop-color="#46FFF4" stop-opacity="0.6"/>\n<stop offset="1" stop-color="#46FFF4" stop-opacity="0"/>\n</linearGradient>\n<linearGradient id="paint1_linear_4421_9340" x1="10" y1="0" x2="10" y2="28" gradientUnits="userSpaceOnUse">\n<stop stop-color="#46FFF4" stop-opacity="0.6"/>\n<stop offset="1" stop-color="#46FFF4" stop-opacity="0"/>\n</linearGradient>\n</defs>\n</svg>')})),l(we,Me.MouseClickC,(function(e,t){return'<svg width="'.concat(20*e/40,'" height="').concat(28*t/40,'" viewBox="0 0 20 28" fill="none" xmlns="http://www.w3.org/2000/svg">\n<rect x="1" y="1" width="18" height="26" rx="9" fill="url(#paint0_linear_4421_9350)" fill-opacity="0.5" stroke="url(#paint1_linear_4421_9350)" stroke-width="2"/>\n<rect x="8" y="5" width="4" height="8" rx="2" fill="#46FFF4"/>\n<defs>\n<linearGradient id="paint0_linear_4421_9350" x1="10" y1="0" x2="10" y2="28" gradientUnits="userSpaceOnUse">\n<stop stop-color="#46FFF4" stop-opacity="0.6"/>\n<stop offset="1" stop-color="#46FFF4" stop-opacity="0"/>\n</linearGradient>\n<linearGradient id="paint1_linear_4421_9350" x1="10" y1="0" x2="10" y2="28" gradientUnits="userSpaceOnUse">\n<stop stop-color="#46FFF4" stop-opacity="0.6"/>\n<stop offset="1" stop-color="#46FFF4" stop-opacity="0"/>\n</linearGradient>\n</defs>\n</svg>')})),l(we,Me.MouseClickR,(function(e,t){return'<svg width="'.concat(20*e/40,'" height="').concat(28*t/40,'" viewBox="0 0 20 28" fill="none" xmlns="http://www.w3.org/2000/svg">\n<rect x="1" y="1" width="18" height="26" rx="9" fill="url(#paint0_linear_4421_9330)" fill-opacity="0.5" stroke="url(#paint1_linear_4421_9330)" stroke-width="2"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M11 10V2H9L9 10H2V12H18V10H11Z" fill="#46FFF4" fill-opacity="0.4"/>\n<path d="M11 10V2C14.866 2 18 5.13401 18 9V10H11Z" fill="#46FFF4"/>\n<defs>\n<linearGradient id="paint0_linear_4421_9330" x1="10" y1="0" x2="10" y2="28" gradientUnits="userSpaceOnUse">\n<stop stop-color="#46FFF4" stop-opacity="0.6"/>\n<stop offset="1" stop-color="#46FFF4" stop-opacity="0"/>\n</linearGradient>\n<linearGradient id="paint1_linear_4421_9330" x1="10" y1="0" x2="10" y2="28" gradientUnits="userSpaceOnUse">\n<stop stop-color="#46FFF4" stop-opacity="0.6"/>\n<stop offset="1" stop-color="#46FFF4" stop-opacity="0"/>\n</linearGradient>\n</defs>\n</svg>')})),l(we,Me.MouseScrollUp,(function(e,t){return'<svg width="'.concat(20*e/40,'" height="').concat(28*t/40,'" viewBox="0 0 20 28" fill="none" xmlns="http://www.w3.org/2000/svg">\n<rect x="1" y="1" width="18" height="26" rx="9" fill="url(#paint0_linear_4421_9360)" fill-opacity="0.5" stroke="url(#paint1_linear_4421_9360)" stroke-width="2"/>\n<rect x="13" y="3" width="13" height="6" rx="3" transform="rotate(90 13 3)" fill="#46FFF4" fill-opacity="0.1"/>\n<rect x="12.75" y="3.25" width="12.5" height="5.5" rx="2.75" transform="rotate(90 12.75 3.25)" stroke="#46FFF4" stroke-opacity="0.5" stroke-width="0.5"/>\n<rect x="8" y="4" width="4" height="5" rx="2" fill="#46FFF4"/>\n<defs>\n<linearGradient id="paint0_linear_4421_9360" x1="10" y1="0" x2="10" y2="28" gradientUnits="userSpaceOnUse">\n<stop stop-color="#46FFF4" stop-opacity="0.6"/>\n<stop offset="1" stop-color="#46FFF4" stop-opacity="0"/>\n</linearGradient>\n<linearGradient id="paint1_linear_4421_9360" x1="10" y1="0" x2="10" y2="28" gradientUnits="userSpaceOnUse">\n<stop stop-color="#46FFF4" stop-opacity="0.6"/>\n<stop offset="1" stop-color="#46FFF4" stop-opacity="0"/>\n</linearGradient>\n</defs>\n</svg>')})),l(we,Me.MouseScrollDown,(function(e,t){return'<svg width="'.concat(20*e/40,'" height="').concat(28*t/40,'" viewBox="0 0 20 28" fill="none" xmlns="http://www.w3.org/2000/svg">\n<rect x="1" y="1" width="18" height="26" rx="9" fill="url(#paint0_linear_4421_9370)" fill-opacity="0.5" stroke="url(#paint1_linear_4421_9370)" stroke-width="2"/>\n<rect x="13" y="3" width="12" height="6" rx="3" transform="rotate(90 13 3)" fill="#46FFF4" fill-opacity="0.1"/>\n<rect x="12.75" y="3.25" width="11.5" height="5.5" rx="2.75" transform="rotate(90 12.75 3.25)" stroke="#46FFF4" stroke-opacity="0.5" stroke-width="0.5"/>\n<rect x="8" y="9" width="4" height="5" rx="2" fill="#46FFF4"/>\n<defs>\n<linearGradient id="paint0_linear_4421_9370" x1="10" y1="0" x2="10" y2="28" gradientUnits="userSpaceOnUse">\n<stop stop-color="#46FFF4" stop-opacity="0.6"/>\n<stop offset="1" stop-color="#46FFF4" stop-opacity="0"/>\n</linearGradient>\n<linearGradient id="paint1_linear_4421_9370" x1="10" y1="0" x2="10" y2="28" gradientUnits="userSpaceOnUse">\n<stop stop-color="#46FFF4" stop-opacity="0.6"/>\n<stop offset="1" stop-color="#46FFF4" stop-opacity="0"/>\n</linearGradient>\n</defs>\n</svg>')})),we),We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:124,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:124;return'<svg style="transform:rotate('.concat(e,'deg)" width="').concat(40*t/124,'" height="').concat(58*n/124,'" viewBox="0 0 41 55" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M40.9839 9.62888C40.9839 4.311 36.6729 -2.27488e-06 31.355 -2.72826e-06L9.64501 -4.57915e-06C4.32713 -5.03252e-06 0.0161282 4.31099 0.0161277 9.62888L0.0161255 33.871C0.0161253 36.4576 1.05676 38.9354 2.90363 40.7463L14.8822 52.4916C18.0025 55.5512 22.9975 55.5512 26.1178 52.4916L38.0964 40.7463C39.9432 38.9354 40.9839 36.4576 40.9839 33.871L40.9839 9.62888Z" fill="black" fill-opacity="0.7"/>\n<path d="M40.9839 9.62888C40.9839 4.311 36.6729 -2.27488e-06 31.355 -2.72826e-06L9.64501 -4.57915e-06C4.32713 -5.03252e-06 0.0161282 4.31099 0.0161277 9.62888L0.0161255 33.871C0.0161253 36.4576 1.05676 38.9354 2.90363 40.7463L14.8822 52.4916C18.0025 55.5512 22.9975 55.5512 26.1178 52.4916L38.0964 40.7463C39.9432 38.9354 40.9839 36.4576 40.9839 33.871L40.9839 9.62888Z" fill="url(#paint0_linear_4426_39317)" fill-opacity="0.6"/>\n<path d="M40.3821 9.62888C40.3821 4.64336 36.3405 0.601803 31.355 0.601803L9.64501 0.601801C4.65949 0.6018 0.617935 4.64336 0.617934 9.62888L0.617932 33.871C0.617932 36.2959 1.59353 38.6188 3.32497 40.3166L15.3035 52.0619C18.1898 54.892 22.8102 54.892 25.6965 52.0619L37.675 40.3166C39.4065 38.6188 40.3821 36.2959 40.3821 33.871L40.3821 9.62888Z" stroke="#2A3139" stroke-opacity="0.5" stroke-width="1.20361"/>\n<defs>\n<linearGradient id="paint0_linear_4426_39317" x1="20.5" y1="-3.6537e-06" x2="20.5" y2="58" gradientUnits="userSpaceOnUse">\n<stop stop-color="#121820"/>\n<stop offset="1" stop-color="#2B353F"/>\n</linearGradient>\n</defs>\n</svg>')}},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:124,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:124;return'<svg style="transform:rotate('.concat(e,'deg)" width="').concat(58*t/124,'" height="').concat(40*n/124,'" viewBox="0 0 57 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M9.63001 40C4.3115 40 -5.79761e-07 35.6885 -1.29493e-06 30.37L-4.08381e-06 9.63001C-4.79898e-06 4.3115 4.31149 7.07803e-06 9.62999 6.39789e-06L35.5844 3.07878e-06C37.6671 2.81243e-06 39.6677 0.812251 41.1611 2.26411L54.9785 15.6981C57.4018 18.0541 57.4018 21.9459 54.9785 24.3019L41.1611 37.7359C39.6678 39.1878 37.6671 40 35.5844 40L9.63001 40Z" fill="black" fill-opacity="0.7"/>\n<path d="M9.63001 40C4.3115 40 -5.79761e-07 35.6885 -1.29493e-06 30.37L-4.08381e-06 9.63001C-4.79898e-06 4.3115 4.31149 7.07803e-06 9.62999 6.39789e-06L35.5844 3.07878e-06C37.6671 2.81243e-06 39.6677 0.812251 41.1611 2.26411L54.9785 15.6981C57.4018 18.0541 57.4018 21.9459 54.9785 24.3019L41.1611 37.7359C39.6678 39.1878 37.6671 40 35.5844 40L9.63001 40Z" fill="url(#paint0_linear_4426_39313)" fill-opacity="0.6"/>\n<path d="M9.63001 39.3982C4.64387 39.3982 0.601805 35.3561 0.601804 30.37L0.601801 9.63001C0.601801 4.64387 4.64386 0.601814 9.62999 0.601813L35.5844 0.60181C37.5104 0.601809 39.3606 1.35295 40.7415 2.6956L54.559 16.1296C56.7393 18.2493 56.7393 21.7507 54.559 23.8704L40.7416 37.3044C39.3606 38.647 37.5104 39.3982 35.5844 39.3982L9.63001 39.3982Z" stroke="#2A3139" stroke-opacity="0.5" stroke-width="1.20361"/>\n<defs>\n<linearGradient id="paint0_linear_4426_39313" x1="-2.68937e-06" y1="20" x2="59.4033" y2="20" gradientUnits="userSpaceOnUse">\n<stop stop-color="#121820"/>\n<stop offset="1" stop-color="#2B353F"/>\n</linearGradient>\n</defs>\n</svg>')}},Ne={UP:We(0),DOWN:We(180),LEFT:ze(0),RIGHT:ze(180)},Ze=function(){return'<svg style="transform:rotate('.concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,'deg)" width="27" height="25" viewBox="0 0 27 25" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g filter="url(#filter0_d_4426_39301)">\n    <path d="M15.097 8.901C14.4587 7.98081 13.098 7.98081 12.4597 8.901L9.27185 13.4967C8.53363 14.561 9.29527 16.0162 10.5905 16.0162L16.9662 16.0162C18.2614 16.0162 19.023 14.561 18.2848 13.4967L15.097 8.901Z" fill="url(#paint0_linear_4426_39301)"/>\n    <path d="M15.097 8.901C14.4587 7.98081 13.098 7.98081 12.4597 8.901L9.27185 13.4967C8.53363 14.561 9.29527 16.0162 10.5905 16.0162L16.9662 16.0162C18.2614 16.0162 19.023 14.561 18.2848 13.4967L15.097 8.901Z" fill="white"/>\n    </g>\n    <defs>\n    <filter id="filter0_d_4426_39301" x="0.98291" y="0.210859" width="25.5908" height="23.8054" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n    <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n    <feOffset/>\n    <feGaussianBlur stdDeviation="4"/>\n    <feComposite in2="hardAlpha" operator="out"/>\n    <feColorMatrix type="matrix" values="0 0 0 0 0.4 0 0 0 0 1 0 0 0 0 0.921569 0 0 0 0.4 0"/>\n    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_4426_39301"/>\n    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_4426_39301" result="shape"/>\n    </filter>\n    <linearGradient id="paint0_linear_4426_39301" x1="13.5109" y1="9.12883" x2="13.5109" y2="18.2703" gradientUnits="userSpaceOnUse">\n    <stop stop-color="white"/>\n    <stop offset="1" stop-color="white" stop-opacity="0.5"/>\n    </linearGradient>\n    </defs>\n    </svg>')},Xe=function(){return'<svg style="transform:rotate('.concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,'deg)" width="25" height="27" viewBox="0 0 25 27" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g filter="url(#filter0_d_4426_39304)">\n    <path d="M8.901 15.097C7.98081 14.4587 7.98081 13.098 8.901 12.4597L13.4967 9.27185C14.561 8.53363 16.0162 9.29527 16.0162 10.5905L16.0162 16.9662C16.0162 18.2614 14.561 19.023 13.4967 18.2848L8.901 15.097Z" fill="url(#paint0_linear_4426_39304)"/>\n    <path d="M8.901 15.097C7.98081 14.4587 7.98081 13.098 8.901 12.4597L13.4967 9.27185C14.561 8.53363 16.0162 9.29527 16.0162 10.5905L16.0162 16.9662C16.0162 18.2614 14.561 19.023 13.4967 18.2848L8.901 15.097Z" fill="white"/>\n    </g>\n    <defs>\n    <filter id="filter0_d_4426_39304" x="0.210938" y="0.982891" width="23.8052" height="25.5909" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n    <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n    <feOffset/>\n    <feGaussianBlur stdDeviation="4"/>\n    <feComposite in2="hardAlpha" operator="out"/>\n    <feColorMatrix type="matrix" values="0 0 0 0 0.4 0 0 0 0 1 0 0 0 0 0.921569 0 0 0 0.4 0"/>\n    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_4426_39304"/>\n    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_4426_39304" result="shape"/>\n    </filter>\n    <linearGradient id="paint0_linear_4426_39304" x1="9.12883" y1="13.5109" x2="18.2703" y2="13.5109" gradientUnits="userSpaceOnUse">\n    <stop stop-color="white"/>\n    <stop offset="1" stop-color="white" stop-opacity="0.5"/>\n    </linearGradient>\n    </defs>\n    </svg>')},Ye={UP:Ze(0),DOWN:Ze(180),LEFT:Xe(0),RIGHT:Xe(180)};function qe(e){return e===Me.CrossW||e===Me.RockerW?{UP:"W",LEFT:"A",DOWN:"S",RIGHT:"D"}:{UP:Ye.UP,DOWN:Ye.DOWN,LEFT:Ye.LEFT,RIGHT:Ye.RIGHT}}var Je=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.getBoundingClientRect(),o=t.getBoundingClientRect();return{width:n?i.height:i.width,height:n?i.width:i.height,top:n?o.width-(i.right-o.left):i.top-o.top,left:n?i.top-o.top:i.left-o.left,right:n?o.height-(i.bottom-o.top):o.width-(i.right-o.left),bottom:n?i.left-o.left:o.height-(i.bottom-o.top)}},Qe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log("%c".concat("[veGameVIS]",":").concat(t),"color: purple")};function et(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(t){e.apply(void 0,[t].concat(n))}}function tt(e,t,n){return n<e?e:n>t?t:n}function nt(e){return(nt="function"==typeof Symbol&&"symbol"==o(Symbol.iterator)?function(e){return o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":o(e)})(e)}function it(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function rt(e,t){var n,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ot(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==i.return||i.return()}finally{if(s)throw o}}}}function st(){for(var e={},t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach((function(t){e[t]=function(n){e[t]=n}})),e}var at=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.__xr_funcs={},this.el="string"==typeof t?document.createElement(t):t}return t=e,n=[{key:"class",value:function(e){return void 0===e?this.el.className:(this.el.className=e,this)}},{key:"addClass",value:function(e){return this.el.classList.add(e),this}},{key:"removeClass",value:function(e){return this.el.classList.remove(e),this}},{key:"hasClass",value:function(e){var t;return null==(t=this.el)?void 0:t.classList.contains(e)}},{key:"toggleClass",value:function(e,t){var n;return null==(n=this.el)?void 0:n.classList.toggle(e,t)}},{key:"remove",value:function(){var e;return null==(e=this.el)?void 0:e.remove()}},{key:"text",value:function(e){return void 0===e?this.el.innerText:(this.el.innerText=e,this)}},{key:"mounted",value:function(e){return this.__mounted=e,this}},{key:"attr",value:function(e,t){if("object"===nt(e))for(var n in e)this.attr(n,e[n]);else{if(void 0===t)return this.el.getAttribute(e)||"";this.el.setAttribute(e,t)}return this}},{key:"removeAttr",value:function(e){return this.el.removeAttribute(e),this}},{key:"func",value:function(e,t){return void 0===t?this.__xr_funcs[e]:(this.__xr_funcs[e]=t,this)}},{key:"data",value:function(e,t){var n;if("object"===nt(e))for(var i in e)this.data(i,e[i]);else{if(void 0===t)return(null==(n=this.el.__xr_data)?void 0:n[e])||null;this.el.__xr_data||(this.el.__xr_data={}),this.el.__xr_data[e]=t}return this}},{key:"style",value:function(e,t){var n,i=this.el.style;if(void 0!==t)return i[e]=t,this;if("string"==typeof e)return i[e];for(n in e)i[n]=e[n];return this}},{key:"value",value:function(e){return void 0===e?this.el.value:(this.el.value=e,this)}},{key:"html",value:function(e){return void 0===e?this.el.innerHTML:(this.el.innerHTML=e,this)}},{key:"outerHtml",value:function(e){return void 0===e?this.el.outerHTML:(this.html(e),this.el=this.el.children[0],this)}},{key:"child",value:function(t){return(t=this.el.children[t])?new e(t):null}},{key:"children",value:function(){for(var e=this.el.children.length,t=[],n=0;n<e;n++)t.push(this.child(n));return t}},{key:"click",value:function(e){return this.event("click",e)}},{key:"event",value:function(e,t){var n;if("object"===nt(e))for(var i in e)this.event(i,e[i]);else{var o=this.el;"function"==typeof t?this.el.addEventListener(e,t):o.addEventListener(e,(function n(i){var r;t.self&&i.target!==o||(t.stop&&i.stopPropagation(),t.prevent&&i.preventDefault(),t.once&&o.removeEventListener(e,n,t.capture),null!=(r=t.listener)&&r.call(t,i))}),null!=(n=t.capture)&&n)}return this}},{key:"append",value:function(){for(var t=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.forEach((function(n){if(Array.isArray(n)){var i,o=rt(n);try{for(o.s();!(i=o.n()).done;){var r=i.value;t.append(r)}}catch(a){o.e(a)}finally{o.f()}}else{var s=n;n instanceof e?s=n.el:n instanceof HTMLElement||(s=document.createTextNode("".concat(n))),t.el.appendChild(s),null!=(s=n.__mounted)&&s.call(n,n)}})),this}},{key:"ref",value:function(e){return e(this),this}},{key:"hide",value:function(){return this.style("display","none")}},{key:"show",value:function(){return this.style("display",0<arguments.length&&void 0!==arguments[0]?arguments[0]:"block")}},{key:"setVisible",value:function(){return 0<arguments.length&&void 0!==arguments[0]&&!arguments[0]?this.hide():this.show(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"block")}},{key:"query",value:function(e){return function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:document;if(t){if(t=n.querySelector(e))return new at(t);throw new Error("Element is not exist"+e)}for(var i=n.querySelectorAll(e),o=[],r=0;r<i.length;r++)o.push(new at(i[r]));return o}(e,1<arguments.length&&void 0!==arguments[1]&&arguments[1],this.el)}},{key:"src",value:function(e){var t;return void 0===e?null==(t=this.el)?void 0:t.src:(this.el.src=e,this)}},{key:"parent",value:function(){return this.el.parentElement}},{key:"empty",value:function(){return this.html("")}},{key:"name",value:function(e){return this.attr("__xr_name",e)}},{key:"find",value:function(e){return this.query('[__xr_name="'.concat(e,'"]'),!0)}}],n&&it(t.prototype,n),i&&it(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e;var t,n,i}(),lt=["a","div","h1","h2","h3","h4","h5","h6","button","canvas","code","pre","table","th","td","tr","video","audio","ol","select","option","p","i","iframe","img","input","label","ul","li","span","textarea","form","br","tbody","object","progress","section","slot","small","strong","sub","summary","sup","template","title","var","style","meta","head","link","svg","script"];var ct=function(){function e(e){return new at(e)}var t={};return lt.forEach((function(n){t[n]={get:function(){return e(n)}}})),Object.defineProperties(e,t),e}(),ut=100/14,dt=1.5*ut,ft=[[{m:"ESC",c:"Escape",kc:27},{m:"F1",c:"F1",kc:112},{m:"F2",c:"F2",kc:113},{m:"F3",c:"F3",kc:114},{m:"F4",c:"F4",kc:115},{m:"F5",c:"F5",kc:116},{m:"F6",c:"F6",kc:117},{m:"F7",c:"F7",kc:118},{m:"F8",c:"F8",kc:119},{m:"F9",c:"F9",kc:120},{m:"F10",c:"F10",kc:121},{m:"F11",c:"F11",kc:122},{m:"F12",c:"F12",kc:123}],[{m:"`",s:"~",c:"Backquote",kc:192},{m:"1",s:"!",c:"Digit1",kc:49},{m:"2",s:"@",c:"Digit2",kc:50},{m:"3",s:"#",c:"Digit3",kc:51},{m:"4",s:"$",c:"Digit4",kc:52},{m:"5",s:"%",c:"Digit5",kc:53},{m:"6",s:"^",c:"Digit6",kc:54},{m:"7",s:"&",c:"Digit7",kc:55},{m:"8",s:"*",c:"Digit8",kc:56},{m:"9",s:"(",c:"Digit9",kc:57},{m:"0",s:")",c:"Digit0",kc:48},{m:"-",s:"_",c:"Minus",kc:189},{m:"=",s:"+",c:"Equal",kc:187},{c:"Backspace",kc:8,svg:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M7.00601 4.94712L9.43819 7.26349L11.8704 4.94712L12.606 5.71954L10.2115 8L12.606 10.2805L11.8704 11.0529L9.43819 8.73651L7.00601 11.0529L6.27038 10.2805L8.66486 8L6.27038 5.71954L7.00601 4.94712Z"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M4.8237 2.66666C4.6262 2.66666 4.43976 2.75785 4.31851 2.91374L0.66814 7.60708C0.488387 7.83819 0.488387 8.16181 0.66814 8.39292L4.31851 13.0863C4.43976 13.2421 4.6262 13.3333 4.8237 13.3333H14.7982C15.1517 13.3333 15.4382 13.0468 15.4382 12.6933V3.30666C15.4382 2.9532 15.1517 2.66666 14.7982 2.66666H4.8237ZM1.71385 8L5.03237 3.73333H14.3715V12.2667H5.03237L1.71385 8Z"/>\n</svg>'}],[{m:"Tab",c:"Tab",kc:9},{m:"q",il:!0,c:"KeyQ",kc:81},{m:"w",il:!0,c:"KeyW",kc:87},{m:"e",il:!0,c:"KeyE",kc:69},{m:"r",il:!0,c:"KeyR",kc:82},{m:"t",il:!0,c:"KeyT",kc:84},{m:"y",il:!0,c:"KeyY",kc:89},{m:"u",il:!0,c:"KeyU",kc:85},{m:"i",il:!0,c:"KeyI",kc:73},{m:"o",il:!0,c:"KeyO",kc:79},{m:"p",il:!0,c:"KeyP",kc:80},{m:"[",s:"{",c:"BracketLeft",kc:219},{m:"]",s:"}",c:"BracketRight",kc:221},{m:"\\",s:"|",c:"Backslash",kc:220}],[{m:"Caps",ic:!0,c:"CapsLock",kc:20},{m:"a",il:!0,c:"KeyA",kc:65},{m:"s",il:!0,c:"KeyS",kc:83},{m:"d",il:!0,c:"KeyD",kc:68},{m:"f",il:!0,c:"KeyF",kc:70},{m:"g",il:!0,c:"KeyG",kc:71},{m:"h",il:!0,c:"KeyH",kc:72},{m:"j",il:!0,c:"KeyJ",kc:74},{m:"k",il:!0,c:"KeyK",kc:75},{m:"l",il:!0,c:"KeyL",kc:76},{m:";",s:":",c:"Semicolon",kc:186},{m:"'",s:'"',c:"Quote",kc:222},{m:"Enter",w:2*ut,c:"Enter",kc:13}],[{m:"Shift",c:"ShiftLeft",kc:16},{m:"z",il:!0,c:"KeyZ",kc:90},{m:"x",il:!0,c:"KeyX",kc:88},{m:"c",il:!0,c:"KeyC",kc:67},{m:"v",il:!0,c:"KeyV",kc:86},{m:"b",il:!0,c:"KeyB",kc:66},{m:"n",il:!0,c:"KeyN",kc:78},{m:"m",il:!0,c:"KeyM",kc:77},{m:",",s:"<",c:"Comma",kc:188},{m:".",s:">",c:"Period",kc:190},{m:"/",s:"?",c:"Slash",kc:191},{m:"↑",w:dt,c:"ArrowUp",kc:38},{m:"Shift",w:dt,c:"ShiftRight",kc:16}],[{m:"Ctrl",w:dt,c:"ControlLeft",kc:17},{m:"Win",w:dt,c:"MetaLeft",kc:91},{m:"Alt",w:dt,c:"AltLeft",kc:18},{m:"空格",c:"Space",kc:32},{m:"←",w:dt,c:"ArrowLeft",kc:37},{m:"↓",w:dt,c:"ArrowDown",kc:40},{m:"→",w:dt,c:"ArrowRight",kc:39}]];var ht=function(e,t,n,i){var o,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=qe(e.type),a=st("wrapper","inner"),l=ct.div.ref(a.wrapper).class("vg-vis-key-base vg-vis-key-rocker").append(ct.div.class("vg-vis-key-rocker-kw").append(ct.span.html(s.UP),ct.span.append(ct.span.html(s.LEFT),ct.span.html(s.RIGHT)),ct.span.html(s.DOWN)),ct.div.ref(a.inner).class("vg-vis-key-rocker-ic")).mounted((function(){if(t===Le.Play){var e=Je(a.wrapper.el,i.el,r),n=e.top,s=e.left,l=e.width,c=e.height;o={ir:l/4,wr:l/2,wt:n,wl:s,centerX:s+l/2,centerY:n+c/2,ct:i.el.getBoundingClientRect().top,cl:i.el.getBoundingClientRect().left,cw:i.el.getBoundingClientRect().width}}}));if(t===Le.Play){var c=new Set,u=-1;a.inner.event("touchmove",(function(t){var i=t.targetTouches[0],s=i.clientX,l=i.clientY,d=o,f=d.centerX,p=d.centerY,v=d.wr,g=d.ir,y=d.wt,m=d.wl,k=d.ct,x=d.cl,b=d.cw,w=r?l-k:s-x,_=r?b-s+x:l-k,C=function(e,t,n,i){var o=Math.sqrt(Math.pow(e-n,2)+Math.pow(t-i,2)),r=180/Math.PI*Math.acos((t-i)/o);return n<e&&(r*=-1),[Math.round(r),o]}(f,p,w,_),F=h(C,2),M=F[0],L=F[1],S=M*Math.PI/180,K=0,O=0;if(L>v-g){var T=v-g;K=v-Math.cos(S)*T-g-2,O=v+Math.sin(S)*T-g-2}else K=_-y-g,O=w-m-g;a.inner.style({top:"".concat(K,"px"),left:"".concat(O,"px")});var I=function(e){return e>=-30&&e<30?[8,[0]]:e>=30&&e<60?[9,[0,3]]:e>=60&&e<120?[1,[3]]:e>=120&&e<150?[3,[2,3]]:e>=150||e<-150?[2,[2]]:e>=-150&&e<-120?[6,[1,2]]:e>=-120&&e<-60?[4,[1]]:e>=-60&&e<-30?[12,[0,1]]:void 0}(M),j=h(I,2),B=j[0],U=j[1];if(u!==B){u=B;var R=Array.from(c.values()).filter((function(e){return!U.includes(e)})).map((function(t){return e.key[t]})),D=U.filter((function(e){return!c.has(e)})).map((function(t){return e.key[t]}));c=new Set(U),n.emit(je.RockerChange,{upKey:R,downKey:D})}})),a.inner.event("touchend",(function(){a.inner.style({top:"",left:""}),n.emit(je.RockerChange,{upKey:Array.from(c.values()).map((function(t){return e.key[t]})),downKey:[]})}))}return l};function pt(e,t,n,i){var o,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];switch(e.type){case Me.Single:case Me.Combo:o=function(e){return ct.div.class("vg-vis-key-base").text(e.desc)}(e);break;case Me.MouseClickC:case Me.MouseClickL:case Me.MouseClickR:case Me.MouseScrollDown:case Me.MouseScrollUp:o=function(e){var t=e.type,n=e.width,i=e.height;return ct.div.html(Ve[t](n,i)).class("vg-vis-key-base")}(e);break;case Me.Rocker:case Me.RockerW:o=ht(e,t,n,i,r);break;case Me.Cross:case Me.CrossW:o=function(e){var t=qe(e.type),n=e.width,i=e.height,o=["UP","LEFT","DOWN","RIGHT"].map((function(o,r){return ct.div.append(ct.div.html(Ne[o](n,i)).class("vg-vis-key-svg"),ct.div.html(t[o]).class("vg-vis-key-svg")).attr("data-key",e.key[r])}));return ct.div.class("vg-vis-key-cross").append(ct.div.append(o[0],o[2]),ct.div.append(o[1],o[3]))}(e)}return o.data("config",e),o.style({width:"".concat(e.width,"px"),height:"".concat(e.height,"px")}),t===Le.InModal?ct.div.append(o,ct.div.class("vg-vis-keyTips").text(e.desc)):o}var vt=function(){function e(t,i){var o=this;r(this,e),this.subEventer=_e(),this.candidateKeyMap=new Map,this.mode=He.Single,this.curTab=0,this.maxChoosedNum=5,this.refs=st("kl","kt","ktt","mt","mtt"),this.addCandidateKey=function(e,t){t.addClass("vg-vis-key-selected");var i=pt(n(n({},Ie[e.type]),e),Le.WaitAdd);[].concat(p(Ee),p(Ae)).includes(e.type)&&i.addClass("vg-vis-key-scale");var r=Date.now();o.candidateKeyMap.set(r,{ele:i,eleInTab:t,keyId:r}),o.updateBar()},this.addKey2Screen=function(){if(o.candidateKeyMap.size>o.maxChoosedNum)return o.$ele.append(o.$numTips());var e={xBase:0,coordinateX:.5,yBase:0,coordinateY:.5},t=[];if(o.mode===He.Single)Array.from(o.candidateKeyMap.values()).forEach((function(n){var i=n.ele.data("config");t.push(Object.assign(i,e))}));else{var i=Array.from(o.candidateKeyMap.values()).reduce((function(e,t){return e.concat(t.ele.data("config").key)}),[]);t.push(n(n({},Ie[Me.Combo]),{},{desc:"组合键",key:i},e))}o.eventer.emit(je.AddKey,t)},this.eventer=i,this.mode=t,this.renderUI(),this.initEvents()}return a(e,[{key:"renderUI",value:function(){this.$ele=ct.div.class("vg-vis-e-am").append(this.$bar(),this.$tabWrapper()),this.updateBar()}},{key:"initEvents",value:function(){this.subEventer.on("__choose_key__",this.addCandidateKey)}},{key:"removeCandidateKey",value:function(e){var t=this.candidateKeyMap.get(e),n=t.ele;t.eleInTab.removeClass("vg-vis-key-selected"),this.candidateKeyMap.delete(e),n.parent().remove(),this.updateBar()}},{key:"updateBar",value:function(){var e=this;if(this.refs.kl.html(""),0!==this.candidateKeyMap.size){var t,n=[];Array.from(this.candidateKeyMap.values()).forEach((function(t,i){n.push(ct.div.style({width:"40px",height:"40px",position:"relative"}).append(t.ele,e.$closeIcon(t.keyId))),e.mode===He.Combo&&i<e.candidateKeyMap.size-1&&n.push(ct.div.html('<svg width="7" height="6" viewBox="0 0 7 6" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M3.125 0C2.91789 0 2.75 0.167893 2.75 0.375V2.25H0.875C0.667893 2.25 0.5 2.41789 0.5 2.625V3.375C0.5 3.58211 0.667893 3.75 0.875 3.75H2.75V5.625C2.75 5.83211 2.91789 6 3.125 6H3.875C4.08211 6 4.25 5.83211 4.25 5.625V3.75H6.125C6.33211 3.75 6.5 3.58211 6.5 3.375V2.625C6.5 2.41789 6.33211 2.25 6.125 2.25H4.25V0.375C4.25 0.167893 4.08211 0 3.875 0H3.125Z" fill="#737A87"/>\n</svg>'))})),(t=this.refs.kl).append.apply(t,n)}else{var i=ct.span.text("选择下方按键即可添加至主屏").style({color:"#FFFFFF80"});this.refs.kl.append(i)}}},{key:"$closeIcon",value:function(e){var t=this,n=ct.div.class("vg-vis-close").html('<svg width="9" height="8" viewBox="0 0 9 8" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M7.28192 0.169235L7.99692 0.884233C8.22257 1.10988 8.22257 1.47573 7.99692 1.70137L5.69804 3.99986L7.99692 6.29863C8.22257 6.52427 8.22257 6.89012 7.99692 7.11577L7.28192 7.83076C7.05628 8.05641 6.69043 8.05641 6.46478 7.83076L4.16541 5.53104L1.86837 7.82993C1.64272 8.05558 1.27687 8.05558 1.05123 7.82993L0.336228 7.11493C0.11058 6.88928 0.11058 6.52344 0.336228 6.29779L2.63278 3.99986L0.336228 1.70221C0.11058 1.47656 0.11058 1.11072 0.336228 0.885069L1.05123 0.17007C1.27687 -0.055577 1.64272 -0.055577 1.86837 0.17007L4.16541 2.46723L6.46478 0.169235C6.69043 -0.0564118 7.05628 -0.0564118 7.28192 0.169235Z" fill="white"/>\n</svg>');return n.event("touchstart",(function(){t.removeCandidateKey(e)})),n}},{key:"$numTips",value:function(){return ct.div.class("vg-vis-e-am-tips").text("一次最多可选择 ".concat(this.maxChoosedNum," 个按键进行添加")).mounted((function(e){setTimeout((function(){return e.remove()}),2e3)}))}},{key:"$bar",value:function(){var e=this;return ct.div.class("vg-vis-e-am-c").append(ct.div.outerHtml('<svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M7.10004 9.36086C7.41131 9.67213 7.41131 10.1768 7.10004 10.4881L6.53643 11.0517C6.22515 11.363 5.72047 11.363 5.4092 11.0517L0.900287 6.54279C0.743816 6.38632 0.665999 6.18098 0.666837 5.9759C0.665999 5.77082 0.743816 5.56548 0.900287 5.40901L5.4092 0.900098C5.72047 0.588822 6.22515 0.588822 6.53643 0.900098L7.10004 1.46371C7.41131 1.77499 7.41131 2.27966 7.10004 2.59094L3.71508 5.9759L7.10004 9.36086Z" fill="white"/>\n</svg>').event("touchstart",(function(){e.eventer.emit(je.BackTo)})),ct.div.class("vg-vis-e-am-c-kl").ref(this.refs.kl).style({gap:"".concat(this.mode===He.Single?24:12,"px")}),ct.span.text("清空").event("touchstart",(function(){Array.from(e.candidateKeyMap.values()).forEach((function(e){return e.eleInTab.removeClass("vg-vis-key-selected")})),e.candidateKeyMap.clear(),e.updateBar()})),ct.div.class("vg-vis-btn vg-vis-e-am-c-add").html(Pe+ct.span.text("添加到屏幕").outerHtml()).event("touchstart",this.addKey2Screen))}},{key:"$tabWrapper",value:function(){return ct.div.class("vg-vis-e-am-b").append(this.$tabTitle(),(e=this.subEventer,ct.div.class("vg-vis-vk").append(ft.map((function(t){return ct.div.class("vg-vis-vk-line").append(t.map((function(t){var n=t.w?{width:"".concat(t.w,"%")}:{flex:1},i=st("key");return ct.div.class("vg-vis-vk-sk").style(n).ref(i.key).html(t.m||t.svg).event({touchstart:function(){i.key.hasClass("vg-vis-key-selected")||e.emit("__choose_key__",{type:Me.Single,desc:t.m,key:[t.c]},i.key)},contextmenu:{listener:function(){},prevent:!0}})})))})))).ref(this.refs.kt),this.$mouseTab().ref(this.refs.mt));var e}},{key:"$mouseTab",value:function(){var e=this,t=$e.map((function(t){var n=pt(Ie[t],Le.InModal);return n.event("touchstart",(function(){n.hasClass("vg-vis-key-unavailable")||n.hasClass("vg-vis-key-selected")||e.addCandidateKey({type:t},n)})),e.mode===He.Combo&&(Ae.includes(t)||Ee.includes(t))&&n.addClass("vg-vis-key-unavailable"),n}));return ct.div.class("vg-vis-e-am-b-mt").append(ct.div.class("vg-vis-e-am-b-mt-ml").append(t.slice(0,5)),ct.div.class("vg-vis-e-am-b-mt-dl").append(t.slice(5)))}},{key:"$tabTitle",value:function(){var e=this;return ct.div.class("vg-vis-e-am-b-t").append(ct.span.ref(this.refs.ktt).class("vg-vis-e-am-b-at").text("键盘").event("touchstart",(function(){e.onTitleClick(0)})),ct.span.ref(this.refs.mtt).text("鼠标按键与轮盘").event("touchstart",(function(){e.onTitleClick(1)})))}},{key:"onTitleClick",value:function(e){this.curTab!==e&&(this.curTab=e,this.refs.ktt.toggleClass("vg-vis-e-am-b-at"),this.refs.mtt.toggleClass("vg-vis-e-am-b-at"),0===this.curTab?(this.refs.kt.show("flex"),this.refs.mt.hide()):(this.refs.kt.hide(),this.refs.mt.show()))}}]),e}();function gt(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.data("config"),o=i.desc;i.type;var r=i.modifyDesc,s=e.el.getBoundingClientRect(),a=s.width,l=s.height,c=n?l:a,u=i.width,d=ct.div.text("按键文字"),f=ct.div.class("vg-vis-e-k-name").text("".concat(null!=o?o:"")).event("touchstart",(function(){r&&t.emit(je.InputKeyName)})),h=ct.div.text("按键大小"),p=ct.div.class("vg-vis-btn vg-vis-e-k-del").text("删除").event("touchstart",(function(){t.emit(je.Delete)})),v=ct.div.class("vg-vis-btn").text("确定").event("touchstart",(function(){t.emit(je.Confirm)}));return ct.div.class("vg-vis-e-k").append(d,f,h,function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=120,r=n,s=st("track","v","f"),a=ct.div.append(ct.div.ref(s.track).class("vg-vis-slider-track"),ct.div.ref(s.v).class("vg-vis-slider-value").style({width:"".concat(n*o,"px")}),ct.div.class("vg-vis-slider-mark").append(new Array(3).fill(0).map((function(e){return ct.div}))),ct.div.ref(s.f).class("vg-vis-slider-float").style({left:"".concat(n*o-4,"px")}).event({touchmove:function(n){t||(t={trackLeft:s.track.el.getBoundingClientRect().x,trackTop:s.track.el.getBoundingClientRect().y});var a=n.targetTouches[0],l=a.clientX,c=a.clientY,u=t,d=u.trackLeft,f=u.trackTop,h=i?c-f:l-d,p=tt(0,o,h),v=tt(0,o-6,h-4);s.v.style({width:"".concat(p,"px")}),s.f.style({left:"".concat(v,"px")}),r=(p+o/2)/o,e.emit(je.KeyScale,r,!0)},touchend:function(){e.emit(je.KeyScale,r,!1)}})).class("vg-vis-slider");return a}(t,c/u-.5,n),p,v).func("setDescText",(function(e){f.text(e)}))}var yt=function(){function e(t,n){var i=this;r(this,e),this.pressedKeys={},this.needRotate=!0,this.edit=!1,this.config=[],this.layoutInfo={width:0,height:0,left:0,top:0,right:0,bottom:0},this.editUIs={},this.eventer=_e(),this.allowTouch=!1,this.debug=!1,this.wheelValue=5,this.onOrientationchange=function(){setTimeout((function(){i.edit&&i._exitEdit(),i._render()}),50)},this.inputTrigger=function(){var e=i.focusedkey.data("config").desc,t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=st("input"),o=ct.div.class("vg-vis-input").append(ct.div.class("vg-vis-input-wrapper").append(ct.input.ref(i.input).class("vg-vis-input-text").value(t),ct.span.text("确定").class("vg-vis-input-confirm").event("touchstart",(function(){var t=i.input.value();e.emit(je.ModifyKeyName,t)})))).mounted((function(e){return setTimeout((function(){e.el.focus()}),0)}));return n&&o.child(0).addClass("vg-vis-input-rotate"),o}(i.eventer,e,i.needRotate);i.editUIs.$ip=t,i.$ele.append(t)},this.modifyKeyNameTrigger=function(e){var t;i.editUIs.$ip.remove(),e&&(i.focusedkey.data("config").desc=e,i.focusedkey.html(e),null===(t=i.editUIs.$fb.func("setDescText"))||void 0===t||t(e))},this.saveTrigger=function(){i.config=i.generateConfig(),i._exitEdit(),i.emit(Re,{config:JSON.stringify(i.config)})},this.addKeyTrigger=function(e){var t=i.renderKeys(e,Le.Edit);i.$editBox.append(t),i.backToTrigger()},this.onKeyScale=function(e,t){t&&i.focusedkey.style("transform","scale(".concat(e,")"))},this.restoreTrigger=function(e){i._exitEdit(),i.emit(Be)},this.deleteTrigger=function(){var e;i.focusedkey.remove(),i.focusedkey=null,null===(e=i.editUIs.$fb)||void 0===e||e.remove(),i.editUIs.$tl.show("flex")},this.confirmTrigger=function(){var e;i.focusedkey=null,null===(e=i.editUIs.$fb)||void 0===e||e.remove(),i.editUIs.$tl.show("flex")},this.addModeTrigger=function(e){i.editUIs.$tl.hide(),i.$editBox.append(i.editUIs.$am=function(e,t){return new vt(e,t).$ele}(e,i.eventer))},this.backToTrigger=function(){i.editUIs.$am.remove(),i.editUIs.$tl.show("flex")},this.keyMoveInEdit=function(e,t){e.preventDefault();var n=e.targetTouches[0],o=n.clientX,r=n.clientY,s=i.layoutInfo,a=s.height,l=s.top,c=s.left,u=i.needRotate?r-l-i.offsetX:o-c-i.offsetX,d=i.needRotate?a-i.offsetY-(o-c):r-l-i.offsetY;t.style({top:"".concat(d,"px"),left:"".concat(u,"px")})},this.keyTouchInEdit=function(e,t){var n,o;if(e.preventDefault(),t!==i.focusedkey){null===(n=i.focusedkey)||void 0===n||n.removeClass("vg-vis-key-active"),i.focusedkey=t,t.addClass("vg-vis-key-active"),i.editUIs.$tl.hide(),null===(o=i.editUIs.$fb)||void 0===o||o.remove(),i.editUIs.$fb=gt(t,i.eventer,i.needRotate),i.$editBox.append(i.editUIs.$fb);var r=e.targetTouches[0],s=r.clientX,a=r.clientY,l=Je(t.el,i.$ele.el,i.needRotate);i.offsetX=i.needRotate?a-l.left-i.layoutInfo.top:s-i.layoutInfo.left-l.left,i.offsetY=i.needRotate?i.layoutInfo.height-(s-i.layoutInfo.left)-l.top:a-i.layoutInfo.top-l.top}},this.onKeyDown=function(e,t){e.preventDefault();var n=t.data("config"),o=n.type,r=n.key;switch(o){case Me.Single:case Me.Combo:r.forEach((function(e){Object.values(Se).includes(e)?i.sendMouseDownMessage(Ke[e],n):i.sendKeyDownMessage(e)}));break;case Me.MouseClickC:i.sendMouseDownMessage(Fe.Center,n);break;case Me.MouseClickL:i.sendMouseDownMessage(Fe.Left,n);break;case Me.MouseClickR:i.sendMouseDownMessage(Fe.Right,n);break;case Me.MouseScrollDown:i.sendMouseWhellMessage(i.wheelValue);break;case Me.MouseScrollUp:i.sendMouseWhellMessage(-1*i.wheelValue);break;case Me.Cross:case Me.CrossW:i.sendKeyDownMessage(e.target.getAttribute("data-key"))}},this.onKeyUp=function(e,t){e.preventDefault();var n=t.data("config"),o=n.type,r=n.key;switch(o){case Me.Single:case Me.Combo:r.forEach((function(e){Object.values(Se).includes(e)?i.sendMouseUpMessage(Ke[e],n):i.sendKeyUpMessage(e)}));break;case Me.MouseClickC:i.sendMouseUpMessage(Fe.Center,n);break;case Me.MouseClickL:i.sendMouseUpMessage(Fe.Left,n);break;case Me.MouseClickR:i.sendMouseUpMessage(Fe.Right,n);break;case Me.MouseScrollDown:case Me.MouseScrollUp:break;case Me.Cross:case Me.CrossW:i.sendKeyUpMessage(e.target.getAttribute("data-key"))}},this.onRockerChange=function(e){var t=e.upKey,n=e.downKey;t.forEach((function(e){i.sendKeyUpMessage(e)})),n.forEach((function(e){i.sendKeyDownMessage(e)}))},_e(this),this.$container=document.getElementById((null==n?void 0:n.domId)||(null==t?void 0:t.domId)),this._veGame=t,this.debug=null==n?void 0:n.debug,this.prepare()}return a(e,[{key:"prepare",value:function(){this.eventer.on(je.RecoverDefault,this.restoreTrigger),this.eventer.on(je.Save,this.saveTrigger),this.eventer.on(je.Delete,this.deleteTrigger),this.eventer.on(je.Confirm,this.confirmTrigger),this.eventer.on(je.AddKey,this.addKeyTrigger),this.eventer.on(je.AddMode,this.addModeTrigger),this.eventer.on(je.BackTo,this.backToTrigger),this.eventer.on(je.ModifyKeyName,this.modifyKeyNameTrigger),this.eventer.on(je.InputKeyName,this.inputTrigger),this.eventer.on(je.RockerChange,this.onRockerChange),this.eventer.on(je.KeyScale,this.onKeyScale),window.addEventListener("orientationchange",this.onOrientationchange)}},{key:"generateConfig",value:function(){var e=this;return this.$editBox.children().filter((function(e){return e.data("config")})).map((function(t){return e.getCurKeyConfigInVis(t,t.data("config"))}))}},{key:"getCurKeyConfigInVis",value:function(e,t){var i=Je(e.el,this.$editBox.el,this.needRotate),o=i.width,r=i.height,s=i.top,a=i.left,l=i.bottom,c=i.right,u=n(n({},t),{},{width:o,height:r});return a+o/2<this.layoutInfo.width/2?(u.xBase=0,u.coordinateX=(a+o/2)/this.layoutInfo.width):(u.xBase=1,u.coordinateX=(c+o/2)/this.layoutInfo.width),s+r/2<this.layoutInfo.height/2?(u.yBase=0,u.coordinateY=(s+r/2)/this.layoutInfo.height):(u.yBase=1,u.coordinateY=(l+r/2)/this.layoutInfo.height),u}},{key:"preRender",value:function(){var e=this.$container.clientWidth,t=this.$container.clientHeight,n=window.orientation;90===n||-90===n?this.needRotate=!1:n||(this.needRotate=t>e),this.layoutInfo.width=Math.max(e,t),this.layoutInfo.height=Math.min(e,t),this.debug&&Qe("layout: ".concat(JSON.stringify(this.layoutInfo)),"needRotate",this.needRotate)}},{key:"postRender",value:function(){var e=this.$ele.el.getBoundingClientRect(),t=e.top,n=e.left,i=e.right,o=e.bottom;Object.assign(this.layoutInfo,{top:t,left:n,right:i,bottom:o})}},{key:"_render",value:function(e){if(this.preRender(),this.$ele||(this.$ele=ct.div.class("vg-vis vg-vis-noevt"),this.$container.appendChild(this.$ele.el)),e)try{this.config=JSON.parse(e)}catch(o){console.error("Config parse error.")}this.$ele.html("").style("transform","");var t=this.layoutInfo,n=t.width,i=t.height;this.$ele.style({width:"".concat(n,"px"),height:"".concat(i,"px")}),this.needRotate&&(this.$ele.el.style.transform="rotate(90deg) translate(".concat(Math.abs(n-i)/2,"px, ").concat(Math.abs(n-i)/2,"px)")),this.renderPlay(),this.postRender()}},{key:"_startEdit",value:function(){this.edit||(this.edit=!0,this.$editBox=this.renderEdit(),this.$playBox.remove(),this.$playBox=null,this.$ele.append(this.$editBox),this.emit(De))}},{key:"_exitEdit",value:function(){var e;this.edit=!1,null===(e=this.$editBox)||void 0===e||e.remove(),this.$editBox=null,this.renderPlay(),this.emit(Ue)}},{key:"_release",value:function(){var e;null===(e=this.$ele)||void 0===e||e.remove(),this.$ele=null}},{key:"_exportKeysConfig",value:function(){return JSON.stringify(this.config)}},{key:"_enableTouch",value:function(e){this.allowTouch!==e&&(this.allowTouch=e,!this.edit&&this.$playBox&&this.$playBox.toggleClass("vg-vis-evt"))}},{key:"_setWheelValue",value:function(e){this.wheelValue=e}},{key:"renderPlay",value:function(){var e,t;this.$playBox&&(null===(e=(t=this.$playBox).remove)||void 0===e||e.call(t),this.$playBox=null);this.$playBox=ct.div.class("vg-vis-p vg-vis-evt"),this.allowTouch&&this.$playBox.removeClass("vg-vis-evt"),this.$ele.append(this.$playBox);var n=this.renderKeys(this.config,Le.Play);this.$playBox.append(n),this.$ele.append(this.$playBox)}},{key:"renderEdit",value:function(){var e,t,n,i,o,r=ct.div.class("vg-vis-e");r.append(this.editUIs.$tl=(e=this.eventer,t=ct.div.class("vg-vis-btn").html(Ge+ct.span.text("单键").outerHtml()).event("touchstart",(function(){e.emit(je.AddMode,He.Single)})),n=ct.div.class("vg-vis-btn").html(Ge+ct.span.text("组合键").outerHtml()).event("touchstart",(function(){e.emit(je.AddMode,He.Combo)})),i=ct.span.class("vg-vis-btn").text("恢复默认").event("touchstart",(function(){e.emit(je.RecoverDefault)})),o=ct.div.class("vg-vis-btn vg-vis-btn-save").html(Pe+ct.span.text("保存").outerHtml()).event("touchstart",(function(){e.emit(je.Save)})),ct.div.class("vg-vis-e-t").append(t,n,i,o)));var s=this.renderKeys(this.config,Le.Edit);return r.append(s),r}},{key:"renderKeys",value:function(e,t){var n=this,i=this.layoutInfo,o=i.width,r=i.height,s=[];return e.forEach((function(e){var i=pt(e,t,n.eventer,n.$ele,n.needRotate);i.style({position:"absolute"}),i.style(function(e,t,n){var i={};return e.xBase?i.right="".concat(t*e.coordinateX-e.width/2,"px"):i.left="".concat(t*e.coordinateX-e.width/2,"px"),e.yBase?i.bottom="".concat(n*e.coordinateY-e.height/2,"px"):i.top="".concat(n*e.coordinateY-e.height/2,"px"),i}(e,o,r)),t===Le.Edit&&i.event({touchmove:et(n.keyMoveInEdit,i),touchstart:et(n.keyTouchInEdit,i)}),t===Le.Play&&(i.event({touchstart:et(n.onKeyDown,i),touchend:et(n.onKeyUp,i),contextmenu:{listener:function(){},prevent:!0}}),i.addClass("vg-vis-evt")),s.push(i)})),s}},{key:"sendKeyDownMessage",value:function(e){var t,n,i;e&&(this.pressedKeys[e]&&this.pressedKeys[e]>0?this.pressedKeys[e]+=1:(this.pressedKeys[e]=1,this.debug&&Qe("".concat(e,": down.")),null===(t=this._veGame)||void 0===t||null===(n=t.Keyboard)||void 0===n||null===(i=n.sendKeyboard)||void 0===i||i.call(n,e,0)))}},{key:"sendKeyUpMessage",value:function(e){var t,n,i;e&&this.pressedKeys[e]&&(this.pressedKeys[e]>1?this.pressedKeys[e]-=1:(delete this.pressedKeys[e],this.debug&&Qe("".concat(e,": up.")),null===(t=this._veGame)||void 0===t||null===(n=t.Keyboard)||void 0===n||null===(i=n.sendKeyboard)||void 0===i||i.call(n,e,1)))}},{key:"transXYBase",value:function(e){return{corX:e.xBase?1-e.coordinateX:e.coordinateX,corY:e.yBase?1-e.coordinateY:e.coordinateY}}},{key:"mouseCursorPos",value:function(e){var t,n=null===(t=this._veGame)||void 0===t?void 0:t.touchHandler,i=n.podWidth,o=n.podHeight,r=this.layoutInfo,s=r.width,a=r.height,l=this.transXYBase(e),c=l.corX,u=l.corY,d=0,f=0,h=i/o;if(s/a>h){var p=a*h;d=(c*s-(s-p)/2)/p,f=u}else{var v=s/h;d=c,f=(u*a-(a-v)/2)/v}return{x:Number(d.toFixed(6)),y:Number(f.toFixed(6))}}},{key:"sendMouseDownMessage",value:function(e,t){var n,i,o,r,s=0,a=0;try{var l=this.mouseCursorPos(t);s=l.x,a=l.y}catch(c){console.error("[transform mouse pos error]:",null==c?void 0:c.message)}null===(n=this._veGame)||void 0===n||null===(i=n.Mouse)||void 0===i||i.sendInputCursorPos(s,a),null===(o=this._veGame)||void 0===o||null===(r=o.Mouse)||void 0===r||r.sendInputMouseKey(e,Ce.Down),this.debug&&Qe("mouse_button: ".concat(e,": down."))}},{key:"sendMouseUpMessage",value:function(e,t){var n,i,o,r,s=0,a=0;try{var l=this.mouseCursorPos(t);s=l.x,a=l.y}catch(c){console.error("[transform mouse pos error]:",null==c?void 0:c.message)}null===(n=this._veGame)||void 0===n||null===(i=n.Mouse)||void 0===i||i.sendInputCursorPos(s,a),null===(o=this._veGame)||void 0===o||null===(r=o.Mouse)||void 0===r||r.sendInputMouseKey(e,Ce.Up),this.debug&&Qe("mouse_button: ".concat(e,": up."))}},{key:"sendMouseWhellMessage",value:function(e){var t,n;null===(t=this._veGame)||void 0===t||null===(n=t.Mouse)||void 0===n||n.sendInputMouseWheel(e),this.debug&&Qe("mouse_wheel: ".concat(e))}}]),e}(),mt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(n,e);var t=f(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"show",value:function(e){return this._render(e)}},{key:"startEdit",value:function(){return this._startEdit()}},{key:"release",value:function(){return this._release()}},{key:"exitEdit",value:function(){return this._exitEdit()}},{key:"exportKeysConfig",value:function(){return this._exportKeysConfig()}},{key:"enableTouch",value:function(e){return this._enableTouch(e)}}]),n}(yt);return mt}));
//# sourceMappingURL=index.umd.min.js.map
